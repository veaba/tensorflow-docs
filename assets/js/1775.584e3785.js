(window.webpackJsonp=window.webpackJsonp||[]).push([[1775],{1966:function(e,a,t){"use strict";t.r(a);var s=t(0),r=Object(s.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h2",{attrs:{id:"class-masking"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#class-masking","aria-hidden":"true"}},[e._v("#")]),e._v(" Class Masking")]),e._v(" "),t("p",[e._v("Masks a sequence by using a mask value to skip timesteps.\n"),t("a",{attrs:{href:"https://www.tensorflow.org/api_docs/python/tf/keras/layers/Layer",target:"_blank",rel:"noopener noreferrer"}},[e._v("Layer"),t("OutboundLink")],1),e._v("Inherits From:")]),e._v(" "),t("h3",{attrs:{id:"aliases"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#aliases","aria-hidden":"true"}},[e._v("#")]),e._v(" Aliases:")]),e._v(" "),t("ul",[t("li",[e._v("Class "),t("code",[e._v("tf.compat.v1.keras.layers.Masking")])]),e._v(" "),t("li",[e._v("Class "),t("code",[e._v("tf.compat.v2.keras.layers.Masking")])])]),e._v(" "),t("h3",{attrs:{id:"used-in-the-guide"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#used-in-the-guide","aria-hidden":"true"}},[e._v("#")]),e._v(" Used in the guide:")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("M")]),e._v("a"),t("code",[e._v("s")]),e._v("k"),t("code",[e._v("i")]),e._v("n"),t("code",[e._v("g")]),e._v(" "),t("code",[e._v("a")]),e._v("n"),t("code",[e._v("d")]),e._v(" "),t("code",[e._v("p")]),e._v("a"),t("code",[e._v("d")]),e._v("d"),t("code",[e._v("i")]),e._v("n"),t("code",[e._v("g")]),e._v(" "),t("code",[e._v("w")]),e._v("i"),t("code",[e._v("t")]),e._v("h"),t("code"),e._v("K"),t("code",[e._v("e")]),e._v("r"),t("code",[e._v("a")]),e._v("s``")])]),e._v(" "),t("p",[e._v("For each timestep in the input tensor (dimension #1 in the tensor), if all values in the input tensor at that timestep are equal to mask_value, then the timestep will be masked (skipped) in all downstream layers (as long as they support masking).")]),e._v(" "),t("p",[e._v("If any downstream layer does not support masking yet receives such an input mask, an exception will be raised.")]),e._v(" "),t("h4",{attrs:{id:"example"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#example","aria-hidden":"true"}},[e._v("#")]),e._v(" Example:")]),e._v(" "),t("p",[e._v("Consider a Numpy data array x of shape (samples, timesteps, features), to be fed to an LSTM layer. You want to mask timestep #3 and #5 because you lack data for these timesteps. You can:")]),e._v(" "),t("ul",[t("li",[e._v("Set x[:, 3, :] = 0. and x[:, 5, :] = 0.")]),e._v(" "),t("li",[e._v("Insert a "),t("code",[e._v("Masking")]),e._v(" layer with "),t("code",[e._v("mask_value=0.")]),e._v(" before the LSTM layer:")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v(" model = Sequential()\nmodel.add(Masking(mask_value=0., input_shape=(timesteps, features)))\nmodel.add(LSTM(32))\n")])])]),t("h2",{attrs:{id:"init"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#init","aria-hidden":"true"}},[e._v("#")]),e._v(" "),t("strong",[e._v("init")])]),e._v(" "),t("p",[t("a",{attrs:{href:"https://github.com/tensorflow/tensorflow/blob/r2.0/tensorflow/python/keras/layers/core.py#L83-L87",target:"_blank",rel:"noopener noreferrer"}},[e._v("View source"),t("OutboundLink")],1)]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v(" __init__(\n    mask_value=0.0,\n    **kwargs\n)\n")])])])])}),[],!1,null,null,null);a.default=r.exports}}]);