(window.webpackJsonp=window.webpackJsonp||[]).push([[263],{448:function(e,t,a){"use strict";a.r(t);var s=a(0),r=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h2",{attrs:{id:"class-runconfig"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#class-runconfig","aria-hidden":"true"}},[e._v("#")]),e._v(" Class RunConfig")]),e._v(" "),a("p",[e._v("RunConfig with TPU support.\n"),a("a",{attrs:{href:"https://www.tensorflow.org/api_docs/python/tf/estimator/RunConfig",target:"_blank",rel:"noopener noreferrer"}},[e._v("RunConfig"),a("OutboundLink")],1),e._v("Inherits From:")]),e._v(" "),a("h2",{attrs:{id:"init"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#init","aria-hidden":"true"}},[e._v("#")]),e._v(" "),a("strong",[e._v("init")])]),e._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/tensorflow/estimator/tree/master/tensorflow_estimator/python/estimator/tpu/tpu_config.py",target:"_blank",rel:"noopener noreferrer"}},[e._v("View source"),a("OutboundLink")],1)]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v(" __init__(\n    tpu_config=None,\n    evaluation_master=None,\n    master=None,\n    cluster=None,\n    **kwargs\n)\n")])])]),a("p",[e._v("Constructs a RunConfig.")]),e._v(" "),a("h4",{attrs:{id:"args"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#args","aria-hidden":"true"}},[e._v("#")]),e._v(" Args:")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("tpu_config")]),e._v(": the TPUConfig that specifies TPU-specific configuration.")]),e._v(" "),a("li",[a("code",[e._v("evaluation_master")]),e._v(": a string. The address of the master to use for eval. Defaults to master if not set.")]),e._v(" "),a("li",[a("code",[e._v("master")]),e._v(": a string. The address of the "),a("code",[e._v("master")]),e._v(" to use for training.")]),e._v(" "),a("li",[a("code",[e._v("cluster")]),e._v(": a ClusterResolver")])]),e._v(" "),a("h4",{attrs:{id:"raises"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#raises","aria-hidden":"true"}},[e._v("#")]),e._v(" Raises:")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("ValueError")]),e._v(": if cluster is not None and the provided session_config has a cluster_def already.")])]),e._v(" "),a("h2",{attrs:{id:"properties"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#properties","aria-hidden":"true"}},[e._v("#")]),e._v(" Properties")]),e._v(" "),a("h3",{attrs:{id:"cluster"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cluster","aria-hidden":"true"}},[e._v("#")]),e._v(" cluster")]),e._v(" "),a("h3",{attrs:{id:"cluster-spec"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cluster-spec","aria-hidden":"true"}},[e._v("#")]),e._v(" cluster_spec")]),e._v(" "),a("h3",{attrs:{id:"device-fn"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#device-fn","aria-hidden":"true"}},[e._v("#")]),e._v(" device_fn")]),e._v(" "),a("p",[e._v("Returns the device_fn.")]),e._v(" "),a("p",[e._v("If device_fn is not None, it overrides the default device function used in Estimator. Otherwise the default one is used.")]),e._v(" "),a("h3",{attrs:{id:"eval-distribute"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#eval-distribute","aria-hidden":"true"}},[e._v("#")]),e._v(" eval_distribute")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://www.tensorflow.org/api_docs/python/tf/distribute/Strategy",target:"_blank",rel:"noopener noreferrer"}},[e._v("tf.distribute.Strategy"),a("OutboundLink")],1),e._v("Optional  for evaluation.")]),e._v(" "),a("h3",{attrs:{id:"evaluation-master"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#evaluation-master","aria-hidden":"true"}},[e._v("#")]),e._v(" evaluation_master")]),e._v(" "),a("h3",{attrs:{id:"experimental-max-worker-delay-secs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#experimental-max-worker-delay-secs","aria-hidden":"true"}},[e._v("#")]),e._v(" experimental_max_worker_delay_secs")]),e._v(" "),a("h3",{attrs:{id:"global-id-in-cluster"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#global-id-in-cluster","aria-hidden":"true"}},[e._v("#")]),e._v(" global_id_in_cluster")]),e._v(" "),a("p",[e._v("The global id in the training cluster.")]),e._v(" "),a("p",[e._v("All global ids in the training cluster are assigned from an increasing sequence of consecutive integers. The first id is 0.")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("   cluster = {'chief': ['host0:2222'],\n             'ps': ['host1:2222', 'host2:2222'],\n             'worker': ['host3:2222', 'host4:2222', 'host5:2222']}\n")])])]),a("p",[e._v("Nodes with task type worker can have id 0, 1, 2. Nodes with task type ps can have id, 0, 1. So, task_id is not unique, but the pair (task_type, task_id) can uniquely determine a node in the cluster.")]),e._v(" "),a("p",[e._v("Global id, i.e., this field, is tracking the index of the node among ALL nodes in the cluster. It is uniquely assigned. For example, for the cluster spec given above, the global ids are assigned as:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("   task_type  | task_id  |  global_id\n  --------------------------------\n  chief      | 0        |  0\n  worker     | 0        |  1\n  worker     | 1        |  2\n  worker     | 2        |  3\n  ps         | 0        |  4\n  ps         | 1        |  5\n")])])]),a("h4",{attrs:{id:"returns"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#returns","aria-hidden":"true"}},[e._v("#")]),e._v(" Returns:")]),e._v(" "),a("p",[e._v("An integer id.")]),e._v(" "),a("h3",{attrs:{id:"is-chief"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#is-chief","aria-hidden":"true"}},[e._v("#")]),e._v(" is_chief")]),e._v(" "),a("h3",{attrs:{id:"keep-checkpoint-every-n-hours"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#keep-checkpoint-every-n-hours","aria-hidden":"true"}},[e._v("#")]),e._v(" keep_checkpoint_every_n_hours")]),e._v(" "),a("h3",{attrs:{id:"keep-checkpoint-max"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#keep-checkpoint-max","aria-hidden":"true"}},[e._v("#")]),e._v(" keep_checkpoint_max")]),e._v(" "),a("h3",{attrs:{id:"log-step-count-steps"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#log-step-count-steps","aria-hidden":"true"}},[e._v("#")]),e._v(" log_step_count_steps")]),e._v(" "),a("h3",{attrs:{id:"master"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#master","aria-hidden":"true"}},[e._v("#")]),e._v(" master")]),e._v(" "),a("h3",{attrs:{id:"model-dir"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#model-dir","aria-hidden":"true"}},[e._v("#")]),e._v(" model_dir")]),e._v(" "),a("h3",{attrs:{id:"num-ps-replicas"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#num-ps-replicas","aria-hidden":"true"}},[e._v("#")]),e._v(" num_ps_replicas")]),e._v(" "),a("h3",{attrs:{id:"num-worker-replicas"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#num-worker-replicas","aria-hidden":"true"}},[e._v("#")]),e._v(" num_worker_replicas")]),e._v(" "),a("h3",{attrs:{id:"protocol"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#protocol","aria-hidden":"true"}},[e._v("#")]),e._v(" protocol")]),e._v(" "),a("p",[e._v("Returns the optional protocol value.")]),e._v(" "),a("h3",{attrs:{id:"save-checkpoints-secs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#save-checkpoints-secs","aria-hidden":"true"}},[e._v("#")]),e._v(" save_checkpoints_secs")]),e._v(" "),a("h3",{attrs:{id:"save-checkpoints-steps"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#save-checkpoints-steps","aria-hidden":"true"}},[e._v("#")]),e._v(" save_checkpoints_steps")]),e._v(" "),a("h3",{attrs:{id:"save-summary-steps"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#save-summary-steps","aria-hidden":"true"}},[e._v("#")]),e._v(" save_summary_steps")]),e._v(" "),a("h3",{attrs:{id:"service"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#service","aria-hidden":"true"}},[e._v("#")]),e._v(" service")]),e._v(" "),a("p",[e._v("Returns the platform defined (in TF_CONFIG) service dict.")]),e._v(" "),a("h3",{attrs:{id:"session-config"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#session-config","aria-hidden":"true"}},[e._v("#")]),e._v(" session_config")]),e._v(" "),a("h3",{attrs:{id:"session-creation-timeout-secs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#session-creation-timeout-secs","aria-hidden":"true"}},[e._v("#")]),e._v(" session_creation_timeout_secs")]),e._v(" "),a("h3",{attrs:{id:"task-id"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#task-id","aria-hidden":"true"}},[e._v("#")]),e._v(" task_id")]),e._v(" "),a("h3",{attrs:{id:"task-type"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#task-type","aria-hidden":"true"}},[e._v("#")]),e._v(" task_type")]),e._v(" "),a("h3",{attrs:{id:"tf-random-seed"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tf-random-seed","aria-hidden":"true"}},[e._v("#")]),e._v(" tf_random_seed")]),e._v(" "),a("h3",{attrs:{id:"tpu-config"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tpu-config","aria-hidden":"true"}},[e._v("#")]),e._v(" tpu_config")]),e._v(" "),a("h3",{attrs:{id:"train-distribute"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#train-distribute","aria-hidden":"true"}},[e._v("#")]),e._v(" train_distribute")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://www.tensorflow.org/api_docs/python/tf/distribute/Strategy",target:"_blank",rel:"noopener noreferrer"}},[e._v("tf.distribute.Strategy"),a("OutboundLink")],1),e._v("Optional  for training.")]),e._v(" "),a("h2",{attrs:{id:"methods"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#methods","aria-hidden":"true"}},[e._v("#")]),e._v(" Methods")]),e._v(" "),a("h3",{attrs:{id:"replace"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#replace","aria-hidden":"true"}},[e._v("#")]),e._v(" replace")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/tensorflow/estimator/tree/master/tensorflow_estimator/python/estimator/tpu/tpu_config.py",target:"_blank",rel:"noopener noreferrer"}},[e._v("View source"),a("OutboundLink")],1)]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v(" replace(**kwargs)\n")])])]),a("p",[e._v("Returns a new instance of RunConfig replacing specified properties.")]),e._v(" "),a("p",[e._v("Only the properties in the following list are allowed to be replaced:")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("model_dir")]),e._v(",")]),e._v(" "),a("li",[a("code",[e._v("tf_random_seed")]),e._v(",")]),e._v(" "),a("li",[a("code",[e._v("save_summary_steps")]),e._v(",")]),e._v(" "),a("li",[a("code",[e._v("save_checkpoints_steps")]),e._v(",")]),e._v(" "),a("li",[a("code",[e._v("save_checkpoints_secs")]),e._v(",")]),e._v(" "),a("li",[a("code",[e._v("session_config")]),e._v(",")]),e._v(" "),a("li",[a("code",[e._v("keep_checkpoint_max")]),e._v(",")]),e._v(" "),a("li",[a("code",[e._v("keep_checkpoint_every_n_hours")]),e._v(",")]),e._v(" "),a("li",[a("code",[e._v("log_step_count_steps")]),e._v(",")]),e._v(" "),a("li",[a("code",[e._v("train_distribute")]),e._v(",")]),e._v(" "),a("li",[a("code",[e._v("device_fn")]),e._v(",")]),e._v(" "),a("li",[a("code",[e._v("protocol")]),e._v(".")]),e._v(" "),a("li",[a("code",[e._v("eval_distribute")]),e._v(",")]),e._v(" "),a("li",[a("code",[e._v("experimental_distribute")]),e._v(",")]),e._v(" "),a("li",[a("code",[e._v("experimental_max_worker_delay_secs")]),e._v(",")])]),e._v(" "),a("p",[e._v("In addition, either save_checkpoints_steps or save_checkpoints_secs can be set (should not be both).")]),e._v(" "),a("h4",{attrs:{id:"args-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#args-2","aria-hidden":"true"}},[e._v("#")]),e._v(" Args:")]),e._v(" "),a("h4",{attrs:{id:"raises-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#raises-2","aria-hidden":"true"}},[e._v("#")]),e._v(" Raises:")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("ValueError")]),e._v(": If any property name in "),a("code",[e._v("kwargs")]),e._v(" does not exist or is not allowed to be replaced, or both "),a("code",[e._v("save_checkpoints_steps")]),e._v(" and "),a("code",[e._v("save_checkpoints_secs")]),e._v(" are set.")])]),e._v(" "),a("h4",{attrs:{id:"returns-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#returns-2","aria-hidden":"true"}},[e._v("#")]),e._v(" Returns:")]),e._v(" "),a("p",[e._v("a new instance of RunConfig.")])])}),[],!1,null,null,null);t.default=r.exports}}]);