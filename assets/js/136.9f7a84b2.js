(window.webpackJsonp=window.webpackJsonp||[]).push([[136],{324:function(e,t,a){"use strict";a.r(t);var s=a(0),r=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("p",[e._v("Create a case operation.")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v(" tf.compat.v1.case(\n    pred_fn_pairs,\n    default=None,\n    exclusive=False,\n    strict=False,\n    name='case'\n)\n")])])]),a("p",[a("a",{attrs:{href:"https://www.tensorflow.org/api_docs/python/tf/switch_case",target:"_blank",rel:"noopener noreferrer"}},[e._v("tf.switch_case"),a("OutboundLink")],1),e._v("See also .")]),e._v(" "),a("p",[e._v("The pred_fn_pairs parameter is a dict or list of pairs of size N. Each pair contains a boolean scalar tensor and a python callable that creates the tensors to be returned if the boolean evaluates to True. default is a callable generating a list of tensors. All the callables in pred_fn_pairs as well as default (if provided) should return the same number and types of tensors.")]),e._v(" "),a("p",[e._v("If exclusive==True, all predicates are evaluated, and an exception is thrown if more than one of the predicates evaluates to True. If exclusive==False, execution stops at the first predicate which evaluates to True, and the tensors generated by the corresponding function are returned immediately. If none of the predicates evaluate to True, this operation returns the tensors generated by default.\n"),a("a",{attrs:{href:"https://www.tensorflow.org/api_docs/python/tf/case",target:"_blank",rel:"noopener noreferrer"}},[e._v("tf.case"),a("OutboundLink")],1),e._v(" supports nested structures as implemented in tf.contrib.framework.nest. All of the callables must return the same (possibly nested) value structure of lists, tuples, and/or named tuples. Singleton lists and tuples form the only exceptions to this: when returned by a callable, they are implicitly unpacked to single values. This behavior is disabled by passing strict=True.")]),e._v(" "),a("p",[e._v("If an unordered dictionary is used for pred_fn_pairs, the order of the conditional tests is not guaranteed. However, the order is guaranteed to be deterministic, so that variables created in conditional branches are created in fixed order across runs.")]),e._v(" "),a("p",[e._v("Example 1:")]),e._v(" "),a("h4",{attrs:{id:"pseudocode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pseudocode","aria-hidden":"true"}},[e._v("#")]),e._v(" Pseudocode:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v(" if (x < y) return 17;\nelse return 23;\n")])])]),a("h4",{attrs:{id:"expressions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#expressions","aria-hidden":"true"}},[e._v("#")]),e._v(" Expressions:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v(" f1 = lambda: tf.constant(17)\nf2 = lambda: tf.constant(23)\nr = tf.case([(tf.less(x, y), f1)], default=f2)\n")])])]),a("p",[e._v("Example 2:")]),e._v(" "),a("h4",{attrs:{id:"pseudocode-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pseudocode-2","aria-hidden":"true"}},[e._v("#")]),e._v(" Pseudocode:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v(' if (x < y && x > z) raise OpError("Only one predicate may evaluate to True");\nif (x < y) return 17;\nelse if (x > z) return 23;\nelse return -1;\n')])])]),a("h4",{attrs:{id:"expressions-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#expressions-2","aria-hidden":"true"}},[e._v("#")]),e._v(" Expressions:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v(" def f1(): return tf.constant(17)\ndef f2(): return tf.constant(23)\ndef f3(): return tf.constant(-1)\nr = tf.case({tf.less(x, y): f1, tf.greater(x, z): f2},\n         default=f3, exclusive=True)\n")])])]),a("h4",{attrs:{id:"args"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#args","aria-hidden":"true"}},[e._v("#")]),e._v(" Args:")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("pred_fn_pairs")]),e._v(": Dict or list of pairs of a boolean scalar tensor and a callable which returns a list of tensors.")]),e._v(" "),a("li",[a("code",[e._v("default")]),e._v(": Optional callable that returns a list of tensors.")]),e._v(" "),a("li",[a("code",[e._v("exclusive")]),e._v(": "),a("code",[e._v("True")]),e._v(" iff at most one predicate is allowed to evaluate to "),a("code",[e._v("True")]),e._v(".")]),e._v(" "),a("li",[a("code",[e._v("strict")]),e._v(": A boolean that enables/disables '"),a("code",[e._v("strict")]),e._v("' mode; see above.")]),e._v(" "),a("li",[a("code",[e._v("name")]),e._v(": A "),a("code",[e._v("name")]),e._v(" for this operation (optional).")])]),e._v(" "),a("h4",{attrs:{id:"returns"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#returns","aria-hidden":"true"}},[e._v("#")]),e._v(" Returns:")]),e._v(" "),a("p",[e._v("The tensors returned by the first pair whose predicate evaluated to True, or those returned by default if none does.")]),e._v(" "),a("h4",{attrs:{id:"raises"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#raises","aria-hidden":"true"}},[e._v("#")]),e._v(" Raises:")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("TypeError")]),e._v(": If "),a("code",[e._v("pred_fn_pairs")]),e._v(" is not a list/dictionary.")]),e._v(" "),a("li",[a("code",[e._v("TypeError")]),e._v(": If "),a("code",[e._v("pred_fn_pairs")]),e._v(" is a list but does not contain 2-tuples.")]),e._v(" "),a("li",[a("code",[e._v("TypeError")]),e._v(": If fns[i] is not callable for any i, or "),a("code",[e._v("default")]),e._v(" is not callable.")])]),e._v(" "),a("h4",{attrs:{id:"eager-compatibility"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#eager-compatibility","aria-hidden":"true"}},[e._v("#")]),e._v(" Eager Compatibility")]),e._v(" "),a("p",[e._v("Unordered dictionaries are not supported in eager mode when exclusive=False. Use a list of tuples instead.")])])}),[],!1,null,null,null);t.default=r.exports}}]);