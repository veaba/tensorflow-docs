(window.webpackJsonp=window.webpackJsonp||[]).push([[2239],{2427:function(s,a,e){"use strict";e.r(a);var t=e(0),l=Object(t.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("p",[s._v("Scales the sum of the given regularization losses by number of replicas.")]),s._v(" "),e("h3",{attrs:{id:"aliases"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#aliases","aria-hidden":"true"}},[s._v("#")]),s._v(" Aliases:")]),s._v(" "),e("ul",[e("li",[e("code",[s._v("tf.compat.v1.nn.scale_regularization_loss")])]),s._v(" "),e("li",[e("code",[s._v("tf.compat.v2.nn.scale_regularization_loss")])])]),s._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v(" tf.nn.scale_regularization_loss(regularization_loss)\n")])])]),e("p",[s._v("Usage with distribution strategy and custom training loop:")]),s._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v(" with strategy.scope():\n  def compute_loss(self, label, predictions):\n    per_example_loss = tf.keras.losses.sparse_categorical_crossentropy(\n        labels, predictions)\n\n    # Compute loss that is scaled by sample_weight and by global batch size.\n    loss = tf.compute_average_loss(\n        per_example_loss,\n        sample_weight=sample_weight,\n        global_batch_size=GLOBAL_BATCH_SIZE)\n\n    # Add scaled regularization losses.\n    loss += tf.scale_regularization_loss(tf.nn.l2_loss(weights))\n    return loss\n")])])]),e("h4",{attrs:{id:"args"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#args","aria-hidden":"true"}},[s._v("#")]),s._v(" Args:")]),s._v(" "),e("ul",[e("li",[e("code",[s._v("regularization_loss")]),s._v(": Regularization loss.")])]),s._v(" "),e("h4",{attrs:{id:"returns"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#returns","aria-hidden":"true"}},[s._v("#")]),s._v(" Returns:")]),s._v(" "),e("p",[s._v("Scalar loss value.")])])}),[],!1,null,null,null);a.default=l.exports}}]);