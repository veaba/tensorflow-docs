(window.webpackJsonp=window.webpackJsonp||[]).push([[1130],{1319:function(e,t,a){"use strict";a.r(t);var r=a(0),n=Object(r.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("p",[a("a",{attrs:{href:"https://www.tensorflow.org/api_docs/python/tf/data/Dataset#interleave",target:"_blank",rel:"noopener noreferrer"}},[e._v("Dataset.interleave()"),a("OutboundLink")],1),e._v("A parallel version of the  transformation. (deprecated)")]),e._v(" "),a("h3",{attrs:{id:"aliases"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#aliases","aria-hidden":"true"}},[e._v("#")]),e._v(" Aliases:")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("tf.compat.v1.data.experimental.parallel_interleave")])]),e._v(" "),a("li",[a("code",[e._v("tf.compat.v2.data.experimental.parallel_interleave")])])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v(" tf.data.experimental.parallel_interleave(\n    map_func,\n    cycle_length,\n    block_length=1,\n    sloppy=False,\n    buffer_output_elements=None,\n    prefetch_input_elements=None\n)\n")])])]),a("p",[a("a",{attrs:{href:"https://www.tensorflow.org/api_docs/python/tf/data/Dataset#interleave",target:"_blank",rel:"noopener noreferrer"}},[e._v("tf.data.Dataset.interleave"),a("OutboundLink")],1),e._v("parallel_interleave() maps map_func across its input to produce nested datasets, and outputs their elements interleaved. Unlike , it gets elements from cycle_length nested datasets in parallel, which increases the throughput, especially in the presence of stragglers. Furthermore, the sloppy argument can be used to improve performance, by relaxing the requirement that the outputs are produced in a deterministic order, and allowing the implementation to skip over nested datasets whose elements are not readily available when requested.")]),e._v(" "),a("h4",{attrs:{id:"example-usage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#example-usage","aria-hidden":"true"}},[e._v("#")]),e._v(" Example usage:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v(' # Preprocess 4 files concurrently.\nfilenames = tf.data.Dataset.list_files("/path/to/data/train*.tfrecords")\ndataset = filenames.apply(\n    tf.data.experimental.parallel_interleave(\n        lambda filename: tf.data.TFRecordDataset(filename),\n        cycle_length=4))\n')])])]),a("p",[e._v("WARNING: If sloppy is True, the order of produced elements is not deterministic.")]),e._v(" "),a("h4",{attrs:{id:"args"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#args","aria-hidden":"true"}},[e._v("#")]),e._v(" Args:")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("map_func")]),e._v(": A function mapping a nested structure of tensors to a "),a("code",[e._v("Dataset")]),e._v(".")]),e._v(" "),a("li",[a("code",[e._v("cycle_length")]),e._v(": The number of input "),a("code",[e._v("Dataset")]),e._v("s to interleave from in parallel.")]),e._v(" "),a("li",[a("code",[e._v("block_length")]),e._v(": The number of consecutive elements to pull from an input "),a("code",[e._v("Dataset")]),e._v(" before advancing to the next input "),a("code",[e._v("Dataset")]),e._v(".")]),e._v(" "),a("li",[a("code",[e._v("sloppy")]),e._v(": If false, elements are produced in deterministic order. Otherwise, the implementation is allowed, for the sake of expediency, to produce elements in a non-deterministic order.")]),e._v(" "),a("li",[a("code",[e._v("buffer_output_elements")]),e._v(": The number of elements each iterator being interleaved should buffer (similar to the "),a("code",[e._v(".prefetch")]),e._v("() transformation for each interleaved iterator).")]),e._v(" "),a("li",[a("code",[e._v("prefetch_input_elements")]),e._v(": The number of input elements to transform to iterators before they are needed for interleaving.")])]),e._v(" "),a("h4",{attrs:{id:"returns"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#returns","aria-hidden":"true"}},[e._v("#")]),e._v(" Returns:")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://www.tensorflow.org/api_docs/python/tf/data/Dataset#apply",target:"_blank",rel:"noopener noreferrer"}},[e._v("tf.data.Dataset.apply"),a("OutboundLink")],1),e._v("A Dataset transformation function, which can be passed to .")])])}),[],!1,null,null,null);t.default=n.exports}}]);