(window.webpackJsonp=window.webpackJsonp||[]).push([[927],{1115:function(e,t,a){"use strict";a.r(t);var s=a(0),n=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("p",[e._v("Creates batches by randomly shuffling tensors. (deprecated)")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v(" tf.compat.v1.train.shuffle_batch(\n    tensors,\n    batch_size,\n    capacity,\n    min_after_dequeue,\n    num_threads=1,\n    seed=None,\n    enqueue_many=False,\n    shapes=None,\n    allow_smaller_final_batch=False,\n    shared_name=None,\n    name=None\n)\n")])])]),a("p",[e._v("This function adds the following to the current Graph:")]),e._v(" "),a("ul",[a("li",[e._v("A shuffling queue into which "),a("code",[e._v("tensors")]),e._v(" from "),a("code",[e._v("tensors")]),e._v(" are enqueued.")]),e._v(" "),a("li",[e._v("A "),a("code",[e._v("dequeue_many")]),e._v(" operation to create batches from the queue.")]),e._v(" "),a("li",[e._v("A "),a("code",[e._v("QueueRunner")]),e._v(" to "),a("code",[e._v("QUEUE_RUNNER")]),e._v(" collection, to enqueue the "),a("code",[e._v("tensors")]),e._v(" from "),a("code",[e._v("tensors")]),e._v(".")])]),e._v(" "),a("p",[e._v("If enqueue_many is False, tensors is assumed to represent a single example. An input tensor with shape [x, y, z] will be output as a tensor with shape [batch_size, x, y, z].")]),e._v(" "),a("p",[e._v("If enqueue_many is True, tensors is assumed to represent a batch of examples, where the first dimension is indexed by example, and all members of tensors should have the same size in the first dimension. If an input tensor has shape [*, x, y, z], the output will have shape [batch_size, x, y, z].")]),e._v(" "),a("p",[e._v("The capacity argument controls the how long the prefetching is allowed to grow the queues.\n"),a("a",{attrs:{href:"https://www.tensorflow.org/api_docs/python/tf/errors/OutOfRangeError",target:"_blank",rel:"noopener noreferrer"}},[e._v("tf.errors.OutOfRangeError"),a("OutboundLink")],1),e._v("The returned operation is a dequeue operation and will throw  if the input queue is exhausted. If this operation is feeding another input queue, its queue runner will catch this exception, however, if this operation is used in your main thread you are responsible for catching this yourself.")]),e._v(" "),a("h4",{attrs:{id:"for-example"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#for-example","aria-hidden":"true"}},[e._v("#")]),e._v(" For example:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v(" # Creates batches of 32 images and 32 labels.\nimage_batch, label_batch = tf.compat.v1.train.shuffle_batch(\n      [single_image, single_label],\n      batch_size=32,\n      num_threads=4,\n      capacity=50000,\n      min_after_dequeue=10000)\n")])])]),a("p",[e._v("N.B.: You must ensure that either (i) the shapes argument is passed, or (ii) all of the tensors in tensors must have fully-defined shapes. ValueError will be raised if neither of these conditions holds.")]),e._v(" "),a("p",[e._v("If allow_smaller_final_batch is True, a smaller batch value than batch_size is returned when the queue is closed and there are not enough elements to fill the batch, otherwise the pending elements are discarded. In addition, all output tensors' static shapes, as accessed via the shape property will have a first Dimension value of None, and operations that depend on fixed batch_size would fail.")]),e._v(" "),a("h4",{attrs:{id:"args"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#args","aria-hidden":"true"}},[e._v("#")]),e._v(" Args:")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("tensors")]),e._v(": The list or dictionary of "),a("code",[e._v("tensors")]),e._v(" to enqueue.")]),e._v(" "),a("li",[a("code",[e._v("batch_size")]),e._v(": The new batch size pulled from the queue.")]),e._v(" "),a("li",[a("code",[e._v("capacity")]),e._v(": An integer. The maximum number of elements in the queue.")]),e._v(" "),a("li",[a("code",[e._v("min_after_dequeue")]),e._v(": Minimum number elements in the queue after a dequeue, used to ensure a level of mixing of elements.")]),e._v(" "),a("li",[a("code",[e._v("num_threads")]),e._v(": The number of threads enqueuing "),a("code",[e._v("tensor_list")]),e._v(".")]),e._v(" "),a("li",[a("code",[e._v("seed")]),e._v(": Seed for the random shuffling within the queue.")]),e._v(" "),a("li",[a("code",[e._v("enqueue_many")]),e._v(": Whether each tensor in "),a("code",[e._v("tensor_list")]),e._v(" is a single example.")]),e._v(" "),a("li",[a("code",[e._v("shapes")]),e._v(": (Optional) The "),a("code",[e._v("shapes")]),e._v(" for each example. Defaults to the inferred "),a("code",[e._v("shapes")]),e._v(" for "),a("code",[e._v("tensor_list")]),e._v(".")]),e._v(" "),a("li",[a("code",[e._v("allow_smaller_final_batch")]),e._v(": (Optional) Boolean. If "),a("code",[e._v("True")]),e._v(", allow the final batch to be smaller if there are insufficient items left in the queue.")]),e._v(" "),a("li",[a("code",[e._v("shared_name")]),e._v(": (Optional) If set, this queue will be shared under the given name across multiple sessions.")]),e._v(" "),a("li",[a("code",[e._v("name")]),e._v(": (Optional) A "),a("code",[e._v("name")]),e._v(" for the operations.")])]),e._v(" "),a("h4",{attrs:{id:"returns"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#returns","aria-hidden":"true"}},[e._v("#")]),e._v(" Returns:")]),e._v(" "),a("p",[e._v("A list or dictionary of tensors with the types as tensors.")]),e._v(" "),a("h4",{attrs:{id:"raises"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#raises","aria-hidden":"true"}},[e._v("#")]),e._v(" Raises:")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("ValueError")]),e._v(": If the "),a("code",[e._v("shapes")]),e._v(" are not specified, and cannot be inferred from the elements of "),a("code",[e._v("tensors")]),e._v(".")])]),e._v(" "),a("h4",{attrs:{id:"eager-compatibility"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#eager-compatibility","aria-hidden":"true"}},[e._v("#")]),e._v(" Eager Compatibility")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://www.tensorflow.org/api_docs/python/tf/data",target:"_blank",rel:"noopener noreferrer"}},[e._v("tf.data"),a("OutboundLink")],1),e._v("Input pipelines based on Queues are not supported when eager execution is enabled. Please use the  API to ingest data under eager execution.")])])}),[],!1,null,null,null);t.default=n.exports}}]);