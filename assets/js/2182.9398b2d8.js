(window.webpackJsonp=window.webpackJsonp||[]).push([[2182],{2370:function(e,t,r){"use strict";r.r(t);var a=r(0),o=Object(a.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h2",{attrs:{id:"class-rnncelldropoutwrapper"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#class-rnncelldropoutwrapper","aria-hidden":"true"}},[e._v("#")]),e._v(" Class RNNCellDropoutWrapper")]),e._v(" "),r("p",[e._v("Operator adding dropout to inputs and outputs of the given cell.")]),e._v(" "),r("h3",{attrs:{id:"aliases"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#aliases","aria-hidden":"true"}},[e._v("#")]),e._v(" Aliases:")]),e._v(" "),r("ul",[r("li",[e._v("Class "),r("code",[e._v("tf.compat.v2.nn.RNNCellDropoutWrapper")])])]),e._v(" "),r("h2",{attrs:{id:"init"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#init","aria-hidden":"true"}},[e._v("#")]),e._v(" "),r("strong",[e._v("init")])]),e._v(" "),r("p",[r("a",{attrs:{href:"https://github.com/tensorflow/tensorflow/blob/r2.0/tensorflow/python/keras/layers/rnn_cell_wrapper_v2.py#L97-L98",target:"_blank",rel:"noopener noreferrer"}},[e._v("View source"),r("OutboundLink")],1)]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v(" __init__(\n    *args,\n    **kwargs\n)\n")])])]),r("p",[e._v("Create a cell with added input, state, and/or output dropout.\n"),r("a",{attrs:{href:"https://arxiv.org/abs/1512.05287",target:"_blank",rel:"noopener noreferrer"}},[e._v("A Theoretically Grounded Application of Dropout in Recurrent Neural Networks. Y. Gal, Z. Ghahramani"),r("OutboundLink")],1),e._v("If variational_recurrent is set to True (NOT the default behavior), then the same dropout mask is applied at every step, as described in: .")]),e._v(" "),r("p",[e._v("Otherwise a different dropout mask is applied at every time step.")]),e._v(" "),r("p",[e._v("Note, by default (unless a custom dropout_state_filter is provided), the memory state (c component of any LSTMStateTuple) passing through a DropoutWrapper is never modified. This behavior is described in the above article.")]),e._v(" "),r("h4",{attrs:{id:"args"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#args","aria-hidden":"true"}},[e._v("#")]),e._v(" Args:")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("cell")]),e._v(": an RNNCell, a projection to output_size is added to it.")]),e._v(" "),r("li",[r("code",[e._v("input_keep_prob")]),e._v(": unit Tensor or float between 0 and 1, input keep probability; if it is constant and 1, no input dropout will be added.")]),e._v(" "),r("li",[r("code",[e._v("output_keep_prob")]),e._v(": unit Tensor or float between 0 and 1, output keep probability; if it is constant and 1, no output dropout will be added.")]),e._v(" "),r("li",[r("code",[e._v("state_keep_prob")]),e._v(": unit Tensor or float between 0 and 1, output keep probability; if it is "),r("code",[e._v("c")]),e._v("onstant and 1, no output dropout will be added. State dropout is performed on the outgoing states of the "),r("code",[e._v("cell")]),e._v(". Note the state "),r("code",[e._v("c")]),e._v("omponents to whi"),r("code",[e._v("c")]),e._v("h dropout is applied when "),r("code",[e._v("state_keep_prob")]),e._v(" is in ("),r("code",[e._v("0, 1")]),e._v(") are also determined by the argument "),r("code",[e._v("dropout_state_filter_visitor")]),e._v(" (e.g. by default dropout is never applied to the "),r("code",[e._v("c")]),e._v(" "),r("code",[e._v("c")]),e._v("omponent of an "),r("code",[e._v("LSTMStateTuple")]),e._v(").")]),e._v(" "),r("li",[r("code",[e._v("variational_recurrent")]),e._v(": Python bool. If "),r("code",[e._v("True")]),e._v(", then the same dropout pattern is applied a"),r("code",[e._v("c")]),e._v("ross all time steps per run "),r("code",[e._v("c")]),e._v("all. If this parameter is set, "),r("code",[e._v("input_size")]),e._v(" must be provided.")]),e._v(" "),r("li",[r("code",[e._v("input_size")]),e._v(": (optional) (possibly nested tuple of) "),r("code",[e._v("TensorShape")]),e._v(" obje"),r("code",[e._v("c")]),e._v("ts "),r("code",[e._v("c")]),e._v("ontaining the depth(s) of the input tensors expe"),r("code",[e._v("c")]),e._v("ted to be passed in to the "),r("code",[e._v("DropoutWrapper")]),e._v(". Required and used iff "),r("code",[e._v("variational_recurrent")]),e._v(" = "),r("code",[e._v("True")]),e._v(" and "),r("code",[e._v("input_keep_prob")]),e._v(" < 1.")]),e._v(" "),r("li",[r("code",[e._v("dtype")]),e._v(": (optional) The "),r("code",[e._v("dtype")]),e._v(" of the input, state, and output tensors. Required and used iff "),r("code",[e._v("variational_recurrent")]),e._v(" = "),r("code",[e._v("True")]),e._v(".")]),e._v(" "),r("li",[r("code",[e._v("seed")]),e._v(": (optional) integer, the randomness "),r("code",[e._v("seed")]),e._v(".")]),e._v(" "),r("li",[r("code",[e._v("dropout_state_filter_visitor")]),e._v(": (optional), default: (see below). Fun"),r("code",[e._v("c")]),e._v("tion that takes any hierar"),r("code",[e._v("c")]),e._v("hi"),r("code",[e._v("c")]),e._v("al level of the state and returns a s"),r("code",[e._v("c")]),e._v("alar or depth=1 stru"),r("code",[e._v("c")]),e._v("ture of Python booleans des"),r("code",[e._v("c")]),e._v("ribing whi"),r("code",[e._v("c")]),e._v("h terms in the state should be dropped out. In addition, if the fun"),r("code",[e._v("c")]),e._v("tion returns "),r("code",[e._v("True")]),e._v(", dropout is applied a"),r("code",[e._v("c")]),e._v("ross this sublevel. If the fun"),r("code",[e._v("c")]),e._v("tion returns "),r("code",[e._v("False")]),e._v(", dropout is not applied a"),r("code",[e._v("c")]),e._v("ross this entire sublevel. Default behavior: perform dropout on all terms ex"),r("code",[e._v("c")]),e._v("ept the memory ("),r("code",[e._v("c")]),e._v(") state of "),r("code",[e._v("LSTMCellState")]),e._v(" obje"),r("code",[e._v("c")]),e._v("ts, and don't try to apply dropout to "),r("code",[e._v("TensorArray")]),e._v(" obje"),r("code",[e._v("c")]),e._v("ts: def "),r("code",[e._v("dropout_state_filter_visitor")]),e._v("(s): if isinstan"),r("code",[e._v("c")]),e._v("e(s, "),r("code",[e._v("LSTMCellState")]),e._v("): # Never perform dropout on the "),r("code",[e._v("c")]),e._v(" state. return "),r("code",[e._v("LSTMCellState")]),e._v("("),r("code",[e._v("c")]),e._v("="),r("code",[e._v("False")]),e._v(", h="),r("code",[e._v("True")]),e._v(") elif isinstan"),r("code",[e._v("c")]),e._v("e(s, "),r("code",[e._v("TensorArray")]),e._v("): return "),r("code",[e._v("False")]),e._v(" return "),r("code",[e._v("True")])])]),e._v(" "),r("h4",{attrs:{id:"raises"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#raises","aria-hidden":"true"}},[e._v("#")]),e._v(" Raises:")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("TypeError")]),e._v(": if "),r("code",[e._v("cell")]),e._v(" is not an "),r("code",[e._v("RNNCell")]),e._v(", or "),r("code",[e._v("keep_state_fn")]),e._v(" is provided but not "),r("code",[e._v("callable")]),e._v(".")]),e._v(" "),r("li",[r("code",[e._v("ValueError")]),e._v(": if any of the keep_probs are not between 0 and 1.")])]),e._v(" "),r("h2",{attrs:{id:"properties"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#properties","aria-hidden":"true"}},[e._v("#")]),e._v(" Properties")]),e._v(" "),r("h3",{attrs:{id:"output-size"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#output-size","aria-hidden":"true"}},[e._v("#")]),e._v(" output_size")]),e._v(" "),r("h3",{attrs:{id:"state-size"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#state-size","aria-hidden":"true"}},[e._v("#")]),e._v(" state_size")]),e._v(" "),r("h3",{attrs:{id:"wrapped-cell"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#wrapped-cell","aria-hidden":"true"}},[e._v("#")]),e._v(" wrapped_cell")]),e._v(" "),r("h2",{attrs:{id:"methods"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#methods","aria-hidden":"true"}},[e._v("#")]),e._v(" Methods")]),e._v(" "),r("h3",{attrs:{id:"get-initial-state"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#get-initial-state","aria-hidden":"true"}},[e._v("#")]),e._v(" get_initial_state")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://github.com/tensorflow/tensorflow/blob/r2.0/tensorflow/python/keras/layers/recurrent.py#L976-L977",target:"_blank",rel:"noopener noreferrer"}},[e._v("View source"),r("OutboundLink")],1)]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v(" get_initial_state(\n    inputs=None,\n    batch_size=None,\n    dtype=None\n)\n")])])]),r("h3",{attrs:{id:"zero-state"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#zero-state","aria-hidden":"true"}},[e._v("#")]),e._v(" zero_state")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://github.com/tensorflow/tensorflow/blob/r2.0/tensorflow/python/ops/rnn_cell_wrapper_impl.py#L197-L199",target:"_blank",rel:"noopener noreferrer"}},[e._v("View source"),r("OutboundLink")],1)]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v(" zero_state(\n    batch_size,\n    dtype\n)\n")])])])])}),[],!1,null,null,null);t.default=o.exports}}]);