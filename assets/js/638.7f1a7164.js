(window.webpackJsonp=window.webpackJsonp||[]).push([[638],{826:function(e,t,a){"use strict";a.r(t);var i=a(0),s=Object(i.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("p",[e._v("Looks up ids in a list of embedding tensors.")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v(" tf.compat.v1.nn.embedding_lookup(\n    params,\n    ids,\n    partition_strategy='mod',\n    name=None,\n    validate_indices=True,\n    max_norm=None\n)\n")])])]),a("p",[a("a",{attrs:{href:"https://www.tensorflow.org/api_docs/python/tf/gather",target:"_blank",rel:"noopener noreferrer"}},[e._v("tf.gather"),a("OutboundLink")],1),e._v("This function is used to perform parallel lookups on the list of tensors in params. It is a generalization of , where params is interpreted as a partitioning of a large embedding tensor. params may be a PartitionedVariable as returned by using tf.compat.v1.get_variable() with a partitioner.")]),e._v(" "),a("p",[e._v("If len(params) > 1, each element id of ids is partitioned between the elements of params according to the partition_strategy. In all strategies, if the id space does not evenly divide the number of partitions, each of the first (max_id + 1) % len(params) partitions will be assigned one more id.")]),e._v(" "),a("p",[e._v('If partition_strategy is "mod", we assign each id to partition p = id % len(params). For instance, 13 ids are split across 5 partitions as: [[0, 5, 10], [1, 6, 11], [2, 7, 12], [3, 8], [4, 9]]')]),e._v(" "),a("p",[e._v('If partition_strategy is "div", we assign ids to partitions in a contiguous manner. In this case, 13 ids are split across 5 partitions as: [[0, 1, 2], [3, 4, 5], [6, 7, 8], [9, 10], [11, 12]]')]),e._v(" "),a("p",[e._v("The results of the lookup are concatenated into a dense tensor. The returned tensor has shape shape(ids) + shape(params)[1:].")]),e._v(" "),a("h4",{attrs:{id:"args"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#args","aria-hidden":"true"}},[e._v("#")]),e._v(" Args:")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("params")]),e._v(": A single tensor representing the complete embedding tensor, or a list of P tensors all of same shape except for the first dimension, representing sharded embedding tensors. Alternatively, a "),a("code",[e._v("PartitionedVariable")]),e._v(", created by partitioning along dimension 0. Each element must be appropriately sized for the given "),a("code",[e._v("partition_strategy")]),e._v(".")]),e._v(" "),a("li",[a("code",[e._v("ids")]),e._v(": A "),a("code",[e._v("Tensor")]),e._v(" with type "),a("code",[e._v("int32")]),e._v(" or "),a("code",[e._v("int64")]),e._v(" containing the "),a("code",[e._v("ids")]),e._v(" to be looked up in "),a("code",[e._v("params")]),e._v(".")]),e._v(" "),a("li",[a("code",[e._v("partition_strategy")]),e._v(": A string specifying the partitioning strategy, relevant if len("),a("code",[e._v("params")]),e._v(") > 1. Currently "),a("code",[e._v('"div"')]),e._v(" and "),a("code",[e._v('"mod"')]),e._v(" are supported. Default is "),a("code",[e._v('"mod"')]),e._v(".")]),e._v(" "),a("li",[a("code",[e._v("name")]),e._v(": A "),a("code",[e._v("name")]),e._v(" for the operation (optional).")]),e._v(" "),a("li",[a("code",[e._v("validate_indices")]),e._v(": DEPRECATED. If this operation is assigned to CPU, values in "),a("code",[e._v("indices")]),e._v(" are always validated to be within range. If assigned to GPU, out-of-bound "),a("code",[e._v("indices")]),e._v(" result in safe but unspecified behavior, which may include raising an error.")]),e._v(" "),a("li",[a("code",[e._v("max_norm")]),e._v(": If not "),a("code",[e._v("None")]),e._v(", each embedding is clipped if its l2-norm is larger than this value.")])]),e._v(" "),a("h4",{attrs:{id:"returns"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#returns","aria-hidden":"true"}},[e._v("#")]),e._v(" Returns:")]),e._v(" "),a("p",[e._v("A Tensor with the same type as the tensors in params.")]),e._v(" "),a("h4",{attrs:{id:"raises"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#raises","aria-hidden":"true"}},[e._v("#")]),e._v(" Raises:")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("ValueError")]),e._v(": If "),a("code",[e._v("params")]),e._v(" is empty.")])])])}),[],!1,null,null,null);t.default=s.exports}}]);