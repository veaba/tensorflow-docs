(window.webpackJsonp=window.webpackJsonp||[]).push([[653],{841:function(e,_,v){"use strict";v.r(_);var o=v(0),c=Object(o.a)({},(function(){var e=this,_=e.$createElement,v=e._self._c||_;return v("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[v("p",[e._v("Creates an RNN specified by RNNCell cell and loop function loop_fn.")]),e._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v(" tf.compat.v1.nn.raw_rnn(\n    cell,\n    loop_fn,\n    parallel_iterations=None,\n    swap_memory=False,\n    scope=None\n)\n")])])]),v("p",[e._v("NOTE: This method is still in testing, and the API may change.")]),e._v(" "),v("p",[e._v("This function is a more primitive version of dynamic_rnn that provides more direct access to the inputs each iteration. It also provides more control over when to start and finish reading the sequence, and what to emit for the output.")]),e._v(" "),v("p",[e._v("For example, it can be used to implement the dynamic decoder of a seq2seq model.")]),e._v(" "),v("p",[e._v("Instead of working with Tensor objects, most operations work with TensorArray objects directly.")]),e._v(" "),v("p",[e._v("The operation of raw_rnn, in pseudo-code, is basically the following:")]),e._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v(" time = tf.constant(0, dtype=tf.int32)\n(finished, next_input, initial_state, emit_structure, loop_state) = loop_fn(\n    time=time, cell_output=None, cell_state=None, loop_state=None)\nemit_ta = TensorArray(dynamic_size=True, dtype=initial_state.dtype)\nstate = initial_state\nwhile not all(finished):\n  (output, cell_state) = cell(next_input, state)\n  (next_finished, next_input, next_state, emit, loop_state) = loop_fn(\n      time=time + 1, cell_output=output, cell_state=cell_state,\n      loop_state=loop_state)\n  # Emit zeros and copy forward state for minibatch entries that are finished.\n  state = tf.where(finished, state, next_state)\n  emit = tf.where(finished, tf.zeros_like(emit_structure), emit)\n  emit_ta = emit_ta.write(time, emit)\n  # If any new minibatch entries are marked as finished, mark these.\n  finished = tf.logical_or(finished, next_finished)\n  time += 1\nreturn (emit_ta, state, loop_state)\n")])])]),v("p",[e._v("with the additional properties that output and state may be (possibly nested) tuples, as determined by cell.output_size and cell.state_size, and as a result the final state and emit_ta may themselves be tuples.")]),e._v(" "),v("p",[e._v("A simple implementation of dynamic_rnn via raw_rnn looks like this:")]),e._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v(" inputs = tf.compat.v1.placeholder(shape=(max_time, batch_size, input_depth),\n                        dtype=tf.float32)\nsequence_length = tf.compat.v1.placeholder(shape=(batch_size,),\ndtype=tf.int32)\ninputs_ta = tf.TensorArray(dtype=tf.float32, size=max_time)\ninputs_ta = inputs_ta.unstack(inputs)\n\ncell = tf.compat.v1.nn.rnn_cell.LSTMCell(num_units)\n\ndef loop_fn(time, cell_output, cell_state, loop_state):\n  emit_output = cell_output  # == None for time == 0\n  if cell_output is None:  # time == 0\n    next_cell_state = cell.zero_state(batch_size, tf.float32)\n  else:\n    next_cell_state = cell_state\n  elements_finished = (time >= sequence_length)\n  finished = tf.reduce_all(elements_finished)\n  next_input = tf.cond(\n      finished,\n      lambda: tf.zeros([batch_size, input_depth], dtype=tf.float32),\n      lambda: inputs_ta.read(time))\n  next_loop_state = None\n  return (elements_finished, next_input, next_cell_state,\n          emit_output, next_loop_state)\n\noutputs_ta, final_state, _ = raw_rnn(cell, loop_fn)\noutputs = outputs_ta.stack()\n")])])]),v("h4",{attrs:{id:"args"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#args","aria-hidden":"true"}},[e._v("#")]),e._v(" Args:")]),e._v(" "),v("ul",[v("li",[v("code",[e._v("cell")]),e._v(": An instance of RNNCell.")]),e._v(" "),v("li",[v("code",[e._v("loop_fn")]),e._v(":"),v("code"),e._v("A"),v("code",[e._v("``c``a``l``l``a``b``l``e`` ``t``h``a``t`` ``t``a")]),e._v("k"),v("code",[e._v("e``s`` ``i")]),e._v("npu"),v("code",[e._v("t``s``")]),e._v("("),v("code",[e._v("time, cell_output, cell_state, loop_state")]),e._v(")"),v("code",[e._v("``a")]),e._v("nd"),v("code"),e._v("r"),v("code",[e._v("e``t")]),e._v("urn"),v("code",[e._v("s`` ``t``h``e`` ``t")]),e._v("up"),v("code",[e._v("l``e``")]),e._v("("),v("code",[e._v("finished, next_input, next_cell_state, emit_output, next_loop_state")]),e._v(")"),v("code",[e._v(".``")]),e._v("H"),v("code",[e._v("e")]),e._v("r"),v("code",[e._v("e`` ``time`` ``i``s`` ``a")]),e._v("n"),v("code",[e._v("``i")]),e._v("n"),v("code",[e._v("t")]),e._v("32"),v("code",[e._v("``s``c``a``l``a")]),e._v("r"),v("code",[e._v("``Tensor``,`` ``cell``_")]),e._v("ou"),v("code",[e._v("t")]),e._v("pu"),v("code",[e._v("t`` ``i``s`` ``a`` ``Tensor``")]),e._v("or"),v("code"),e._v("(po"),v("code",[e._v("s``s``i``b``l")]),e._v("y"),v("code"),e._v("n"),v("code",[e._v("e``s``t``e")]),e._v("d)"),v("code",[e._v("``t")]),e._v("up"),v("code",[e._v("l``e``")]),e._v("of"),v("code",[e._v("``t``e")]),e._v("n"),v("code",[e._v("s")]),e._v("or"),v("code",[e._v("s`` ``a``s``")]),e._v("d"),v("code",[e._v("e``t``e")]),e._v("rm"),v("code",[e._v("i")]),e._v("n"),v("code",[e._v("e")]),e._v("d"),v("code",[e._v("``b")]),e._v("y"),v("code",[e._v("``cell``.")]),e._v("ou"),v("code",[e._v("t")]),e._v("pu"),v("code",[e._v("t``_``s``i``z``e``,`` ``a")]),e._v("nd"),v("code",[e._v("``cell``_``s``t``a``t``e`` ``i``s`` ``a`` ``Tensor``")]),e._v("or"),v("code"),e._v("(po"),v("code",[e._v("s``s``i``b``l")]),e._v("y"),v("code"),e._v("n"),v("code",[e._v("e``s``t``e")]),e._v("d)"),v("code",[e._v("``t")]),e._v("up"),v("code",[e._v("l``e``")]),e._v("of"),v("code",[e._v("``t``e")]),e._v("n"),v("code",[e._v("s")]),e._v("or"),v("code",[e._v("s``,`` ``a``s``")]),e._v("d"),v("code",[e._v("e``t``e")]),e._v("rm"),v("code",[e._v("i")]),e._v("n"),v("code",[e._v("e")]),e._v("d"),v("code",[e._v("``b")]),e._v("y"),v("code",[e._v("``t``h``e`` ``loop_fn``")]),e._v("on"),v("code",[e._v("``i``t``s``")]),e._v("f"),v("code",[e._v("i")]),e._v("r"),v("code",[e._v("s``t`` ``c``a``l``l``")]),e._v("("),v("code",[e._v("a")]),e._v("nd"),v("code",[e._v("``s``h")]),e._v("ou"),v("code",[e._v("l")]),e._v("d"),v("code"),e._v("m"),v("code",[e._v("a``t``c``h`` ``cell``.``s``t``a``t``e``_``s``i``z``e")]),e._v(")"),v("code",[e._v(".``")]),e._v("T"),v("code",[e._v("h``e``")]),e._v("ou"),v("code",[e._v("t")]),e._v("pu"),v("code",[e._v("t``s`` ``a")]),e._v("r"),v("code",[e._v("e")]),e._v(":"),v("code",[e._v("``finished``,`` ``a`` ``b")]),e._v("oo"),v("code",[e._v("l``e``a")]),e._v("n"),v("code",[e._v("``Tensor``")]),e._v("of"),v("code",[e._v("``s``h``a")]),e._v("p"),v("code",[e._v("e``")]),e._v("["),v("code",[e._v("b``a``t``c``h``_``s``i``z``e")]),e._v("]"),v("code",[e._v(",`` ``next_input")]),e._v(":"),v("code",[e._v("``t``h``e``")]),e._v("n"),v("code",[e._v("e")]),e._v("x"),v("code",[e._v("t`` ``i")]),e._v("npu"),v("code",[e._v("t`` ``t")]),e._v("o"),v("code"),e._v("f"),v("code",[e._v("e``e")]),e._v("d"),v("code",[e._v("``t")]),e._v("o"),v("code",[e._v("``cell``,`` ``next_cell_state")]),e._v(":"),v("code",[e._v("``t``h``e``")]),e._v("n"),v("code",[e._v("e")]),e._v("x"),v("code",[e._v("t`` ``s``t``a``t``e`` ``t")]),e._v("o"),v("code"),e._v("f"),v("code",[e._v("e``e")]),e._v("d"),v("code",[e._v("``t")]),e._v("o"),v("code",[e._v("``cell``,`` ``a")]),e._v("nd"),v("code",[e._v("``e")]),e._v("m"),v("code",[e._v("i``t``_")]),e._v("ou"),v("code",[e._v("t")]),e._v("pu"),v("code",[e._v("t")]),e._v(":"),v("code",[e._v("``t``h``e``")]),e._v("ou"),v("code",[e._v("t")]),e._v("pu"),v("code",[e._v("t`` ``t")]),e._v("o"),v("code",[e._v("``s``t")]),e._v("or"),v("code",[e._v("e``")]),e._v("for"),v("code",[e._v("``t``h``i``s`` ``i``t``e")]),e._v("r"),v("code",[e._v("a``t``i")]),e._v("on"),v("code",[e._v(".``")]),e._v("No"),v("code",[e._v("t``e`` ``t``h``a``t`` ``e")]),e._v("m"),v("code",[e._v("i``t``_")]),e._v("ou"),v("code",[e._v("t")]),e._v("pu"),v("code",[e._v("t`` ``s``h")]),e._v("ou"),v("code",[e._v("l")]),e._v("d"),v("code",[e._v("``b``e`` ``a`` ``Tensor``")]),e._v("or"),v("code"),e._v("(po"),v("code",[e._v("s``s``i``b``l")]),e._v("y"),v("code"),e._v("n"),v("code",[e._v("e``s``t``e")]),e._v("d)"),v("code",[e._v("``t")]),e._v("up"),v("code",[e._v("l``e``")]),e._v("of"),v("code",[e._v("``t``e")]),e._v("n"),v("code",[e._v("s")]),e._v("or"),v("code",[e._v("s``")]),e._v("w"),v("code",[e._v("h``i``c``h`` ``i``s`` ``a")]),e._v("ggr"),v("code",[e._v("e")]),e._v("g"),v("code",[e._v("a``t``e")]),e._v("d"),v("code",[e._v("``i")]),e._v("n"),v("code",[e._v("``t``h``e`` ``e")]),e._v("m"),v("code",[e._v("i``t``_``t``a`` ``i")]),e._v("n"),v("code",[e._v("s``i")]),e._v("d"),v("code",[e._v("e`` ``t``h``e`` ``while_loop``.``")]),e._v("For"),v("code",[e._v("``t``h``e``")]),e._v("f"),v("code",[e._v("i")]),e._v("r"),v("code",[e._v("s``t`` ``c``a``l``l`` ``t")]),e._v("o"),v("code",[e._v("``loop_fn``,`` ``t``h``e`` ``e")]),e._v("m"),v("code",[e._v("i``t``_")]),e._v("ou"),v("code",[e._v("t")]),e._v("pu"),v("code",[e._v("t`` ``c")]),e._v("orr"),v("code",[e._v("e``s")]),e._v("pond"),v("code",[e._v("s`` ``t")]),e._v("o"),v("code",[e._v("``t``h``e`` ``e")]),e._v("m"),v("code",[e._v("i``t``_``s``t")]),e._v("ru"),v("code",[e._v("c``t")]),e._v("ur"),v("code",[e._v("e``")]),e._v("w"),v("code",[e._v("h``i``c``h`` ``i``s`` ``t``h``e")]),e._v("n"),v("code"),e._v("u"),v("code",[e._v("s``e")]),e._v("d"),v("code",[e._v("``t")]),e._v("o"),v("code"),e._v("d"),v("code",[e._v("e``t``e")]),e._v("rm"),v("code",[e._v("i")]),e._v("n"),v("code",[e._v("e`` ``t``h``e`` ``s``i``z``e``")]),e._v("of"),v("code",[e._v("``t``h``e`` ``z``e")]),e._v("ro"),v("code",[e._v("_``t``e")]),e._v("n"),v("code",[e._v("s")]),e._v("or"),v("code"),e._v("for"),v("code",[e._v("``t``h``e`` ``e")]),e._v("m"),v("code",[e._v("i``t``_``t``a``")]),e._v("(d"),v("code",[e._v("e")]),e._v("f"),v("code",[e._v("a")]),e._v("u"),v("code",[e._v("l``t``s`` ``t")]),e._v("o"),v("code",[e._v("``cell``.")]),e._v("ou"),v("code",[e._v("t")]),e._v("pu"),v("code",[e._v("t``_``s``i``z``e")]),e._v(")"),v("code",[e._v(".``")]),e._v("For"),v("code",[e._v("``t``h``e`` ``s")]),e._v("u"),v("code",[e._v("b``s``e")]),e._v("qu"),v("code",[e._v("e")]),e._v("n"),v("code",[e._v("t`` ``c``a``l``l``s`` ``t")]),e._v("o"),v("code",[e._v("``t``h``e`` ``loop_fn``,`` ``t``h``e`` ``e")]),e._v("m"),v("code",[e._v("i``t``_")]),e._v("ou"),v("code",[e._v("t")]),e._v("pu"),v("code",[e._v("t`` ``c")]),e._v("orr"),v("code",[e._v("e``s")]),e._v("pond"),v("code",[e._v("s`` ``t")]),e._v("o"),v("code",[e._v("``t``h``e`` ``a``c``t")]),e._v("u"),v("code",[e._v("a``l``")]),e._v("ou"),v("code",[e._v("t")]),e._v("pu"),v("code",[e._v("t`` ``t``e")]),e._v("n"),v("code",[e._v("s")]),e._v("or"),v("code",[e._v("``t``h``a``t`` ``i``s`` ``t")]),e._v("o"),v("code",[e._v("``b``e`` ``a")]),e._v("ggr"),v("code",[e._v("e")]),e._v("g"),v("code",[e._v("a``t``e")]),e._v("d"),v("code",[e._v("``i")]),e._v("n"),v("code",[e._v("``t``h``e`` ``e")]),e._v("m"),v("code",[e._v("i``t``_``t``a``.``")]),e._v("T"),v("code",[e._v("h``e``")]),e._v("p"),v("code",[e._v("a")]),e._v("r"),v("code",[e._v("a")]),e._v("m"),v("code",[e._v("e``t``e")]),e._v("r"),v("code",[e._v("``cell``_``s``t``a``t``e`` ``a")]),e._v("nd"),v("code"),e._v("ou"),v("code",[e._v("t")]),e._v("pu"),v("code",[e._v("t`` ``next_cell_state``")]),e._v("m"),v("code",[e._v("a")]),e._v("y"),v("code",[e._v("``b``e`` ``e``i``t``h``e")]),e._v("r"),v("code",[e._v("``a`` ``s``i")]),e._v("ng"),v("code",[e._v("l``e``")]),e._v("or"),v("code"),e._v("(po"),v("code",[e._v("s``s``i``b``l")]),e._v("y"),v("code"),e._v("n"),v("code",[e._v("e``s``t``e")]),e._v("d)"),v("code",[e._v("``t")]),e._v("up"),v("code",[e._v("l``e``")]),e._v("of"),v("code",[e._v("``t``e")]),e._v("n"),v("code",[e._v("s")]),e._v("or"),v("code",[e._v("s``.``")]),e._v("T"),v("code",[e._v("h``e``")]),e._v("p"),v("code",[e._v("a")]),e._v("r"),v("code",[e._v("a")]),e._v("m"),v("code",[e._v("e``t``e")]),e._v("r"),v("code",[e._v("``loop_state`` ``a")]),e._v("nd"),v("code"),e._v("ou"),v("code",[e._v("t")]),e._v("pu"),v("code",[e._v("t`` ``next_loop_state``")]),e._v("m"),v("code",[e._v("a")]),e._v("y"),v("code",[e._v("``b``e`` ``e``i``t``h``e")]),e._v("r"),v("code",[e._v("``a`` ``s``i")]),e._v("ng"),v("code",[e._v("l``e``")]),e._v("or"),v("code"),e._v("(po"),v("code",[e._v("s``s``i``b``l")]),e._v("y"),v("code"),e._v("n"),v("code",[e._v("e``s``t``e")]),e._v("d)"),v("code",[e._v("``t")]),e._v("up"),v("code",[e._v("l``e``")]),e._v("of"),v("code",[e._v("``Tensor`` ``a")]),e._v("nd"),v("code",[e._v("``Tensor")]),e._v("Arr"),v("code",[e._v("a")]),e._v("y"),v("code"),e._v("o"),v("code",[e._v("b")]),e._v("j"),v("code",[e._v("e``c``t``s``.``")]),e._v("T"),v("code",[e._v("h``i``s`` ``l``a``s``t``")]),e._v("p"),v("code",[e._v("a")]),e._v("r"),v("code",[e._v("a")]),e._v("m"),v("code",[e._v("e``t``e")]),e._v("r"),v("code"),e._v("m"),v("code",[e._v("a")]),e._v("y"),v("code",[e._v("``b``e`` ``i")]),e._v("gnor"),v("code",[e._v("e")]),e._v("d"),v("code",[e._v("``b")]),e._v("y"),v("code",[e._v("``loop_fn`` ``a")]),e._v("nd"),v("code",[e._v("``t``h``e``")]),e._v("r"),v("code",[e._v("e``t")]),e._v("urn"),v("code"),e._v("v"),v("code",[e._v("a``l")]),e._v("u"),v("code",[e._v("e``")]),e._v("m"),v("code",[e._v("a")]),e._v("y"),v("code",[e._v("``b``e`` ``None``.``")]),e._v("If"),v("code",[e._v("``i``t`` ``i``s``")]),e._v("no"),v("code",[e._v("t`` ``None``,`` ``t``h``e")]),e._v("n"),v("code",[e._v("``t``h``e`` ``loop_state``")]),e._v("w"),v("code",[e._v("i``l``l`` ``b``e``")]),e._v("prop"),v("code",[e._v("a")]),e._v("g"),v("code",[e._v("a``t``e")]),e._v("d"),v("code",[e._v("``t``h")]),e._v("roug"),v("code",[e._v("h`` ``t``h``e``")]),e._v("RNN"),v("code",[e._v("``l")]),e._v("oop"),v("code",[e._v(",``")]),e._v("for"),v("code"),e._v("u"),v("code",[e._v("s``e``")]),e._v("pur"),v("code",[e._v("e``l")]),e._v("y"),v("code",[e._v("``b")]),e._v("y"),v("code",[e._v("``loop_fn`` ``t")]),e._v("o"),v("code"),e._v("k"),v("code",[e._v("e``e")]),e._v("p"),v("code",[e._v("``t")]),e._v("r"),v("code",[e._v("a``c")]),e._v("k"),v("code"),e._v("of"),v("code",[e._v("``i``t``s``")]),e._v("own"),v("code",[e._v("``s``t``a``t``e``.``")]),e._v("T"),v("code",[e._v("h``e`` ``next_loop_state``")]),e._v("p"),v("code",[e._v("a")]),e._v("r"),v("code",[e._v("a")]),e._v("m"),v("code",[e._v("e``t``e")]),e._v("r"),v("code"),e._v("r"),v("code",[e._v("e``t")]),e._v("urn"),v("code",[e._v("e")]),e._v("d"),v("code"),e._v("m"),v("code",[e._v("a")]),e._v("y"),v("code",[e._v("``b``e`` ``None``.``")]),e._v("T"),v("code",[e._v("h``e``")]),e._v("f"),v("code",[e._v("i")]),e._v("r"),v("code",[e._v("s``t`` ``c``a``l``l`` ``t")]),e._v("o"),v("code",[e._v("``loop_fn``")]),e._v("w"),v("code",[e._v("i``l``l`` ``b``e`` ``time``")]),e._v("="),v("code"),e._v("0"),v("code",[e._v(",`` ``cell``_")]),e._v("ou"),v("code",[e._v("t")]),e._v("pu"),v("code",[e._v("t``")]),e._v("="),v("code",[e._v("``None``,`` ``cell``_``s``t``a``t``e``")]),e._v("="),v("code",[e._v("``None``,`` ``a")]),e._v("nd"),v("code",[e._v("``loop_state``")]),e._v("="),v("code",[e._v("``None``.``")]),e._v("For"),v("code",[e._v("``t``h``i``s`` ``c``a``l``l")]),e._v(":"),v("code"),e._v("T"),v("code",[e._v("h``e`` ``next_cell_state``")]),e._v("v"),v("code",[e._v("a``l")]),e._v("u"),v("code",[e._v("e`` ``s``h")]),e._v("ou"),v("code",[e._v("l")]),e._v("d"),v("code",[e._v("``b``e`` ``t``h``e``")]),e._v("v"),v("code",[e._v("a``l")]),e._v("u"),v("code",[e._v("e``")]),e._v("w"),v("code",[e._v("i``t``h``")]),e._v("w"),v("code",[e._v("h``i``c``h`` ``t")]),e._v("o"),v("code",[e._v("``i")]),e._v("n"),v("code",[e._v("i``t``i``a``l``i``z``e`` ``t``h``e`` ``cell")]),e._v("'"),v("code",[e._v("s`` ``s``t``a``t``e``.``")]),e._v("I"),v("code",[e._v("t``")]),e._v("m"),v("code",[e._v("a")]),e._v("y"),v("code",[e._v("``b``e`` ``a``")]),e._v("f"),v("code",[e._v("i")]),e._v("n"),v("code",[e._v("a``l`` ``s``t``a``t``e``")]),e._v("from"),v("code",[e._v("``a``")]),e._v("pr"),v("code",[e._v("e")]),e._v("v"),v("code",[e._v("i")]),e._v("ou"),v("code",[e._v("s``")]),e._v("RNN"),v("code"),e._v("or"),v("code",[e._v("``i``t``")]),e._v("m"),v("code",[e._v("a")]),e._v("y"),v("code",[e._v("``b``e`` ``t``h``e``")]),e._v("ou"),v("code",[e._v("t")]),e._v("pu"),v("code",[e._v("t``")]),e._v("of"),v("code",[e._v("``cell``.``z``e")]),e._v("ro"),v("code",[e._v("_``s``t``a``t``e")]),e._v("()"),v("code",[e._v(".``")]),e._v("I"),v("code",[e._v("t`` ``s``h")]),e._v("ou"),v("code",[e._v("l")]),e._v("d"),v("code",[e._v("``b``e`` ``a``")]),e._v("(po"),v("code",[e._v("s``s``i``b``l")]),e._v("y"),v("code"),e._v("n"),v("code",[e._v("e``s``t``e")]),e._v("d)"),v("code",[e._v("``t")]),e._v("up"),v("code",[e._v("l``e`` ``s``t")]),e._v("ru"),v("code",[e._v("c``t")]),e._v("ur"),v("code",[e._v("e``")]),e._v("of"),v("code",[e._v("``t``e")]),e._v("n"),v("code",[e._v("s")]),e._v("or"),v("code",[e._v("s``.``")]),e._v("If"),v("code",[e._v("``cell``.``s``t``a``t``e``_``s``i``z``e`` ``i``s`` ``a")]),e._v("n"),v("code",[e._v("``i")]),e._v("n"),v("code",[e._v("t``e")]),e._v("g"),v("code",[e._v("e")]),e._v("r"),v("code",[e._v(",`` ``t``h``i``s``")]),e._v("mu"),v("code",[e._v("s``t`` ``b``e`` ``a`` ``Tensor``")]),e._v("of"),v("code",[e._v("``a")]),e._v("ppropr"),v("code",[e._v("i``a``t``e`` ``t")]),e._v("yp"),v("code",[e._v("e`` ``a")]),e._v("nd"),v("code",[e._v("``s``h``a")]),e._v("p"),v("code",[e._v("e``")]),e._v("["),v("code",[e._v("b``a``t``c``h``_``s``i``z``e``,`` ``cell``.``s``t``a``t``e``_``s``i``z``e")]),e._v("]"),v("code",[e._v(".``")]),e._v("If"),v("code",[e._v("``cell``.``s``t``a``t``e``_``s``i``z``e`` ``i``s`` ``a`` ``Tensor")]),e._v("S"),v("code",[e._v("h``a")]),e._v("p"),v("code",[e._v("e``,`` ``t``h``i``s``")]),e._v("mu"),v("code",[e._v("s``t`` ``b``e`` ``a`` ``Tensor``")]),e._v("of"),v("code",[e._v("``a")]),e._v("ppropr"),v("code",[e._v("i``a``t``e`` ``t")]),e._v("yp"),v("code",[e._v("e`` ``a")]),e._v("nd"),v("code",[e._v("``s``h``a")]),e._v("p"),v("code",[e._v("e``")]),e._v("["),v("code",[e._v("b``a``t``c``h``_``s``i``z``e")]),e._v("]"),v("code"),e._v("+"),v("code",[e._v("``cell``.``s``t``a``t``e``_``s``i``z``e``.``")]),e._v("If"),v("code",[e._v("``cell``.``s``t``a``t``e``_``s``i``z``e`` ``i``s`` ``a``")]),e._v("(po"),v("code",[e._v("s``s``i``b``l")]),e._v("y"),v("code"),e._v("n"),v("code",[e._v("e``s``t``e")]),e._v("d)"),v("code",[e._v("``t")]),e._v("up"),v("code",[e._v("l``e``")]),e._v("of"),v("code",[e._v("``i")]),e._v("n"),v("code",[e._v("t``s``")]),e._v("or"),v("code",[e._v("``Tensor")]),e._v("S"),v("code",[e._v("h``a")]),e._v("p"),v("code",[e._v("e``,`` ``t``h``i``s``")]),e._v("w"),v("code",[e._v("i``l``l`` ``b``e`` ``a`` ``t")]),e._v("up"),v("code",[e._v("l``e`` ``h``a")]),e._v("v"),v("code",[e._v("i")]),e._v("ng"),v("code",[e._v("``t``h``e`` ``c")]),e._v("orr"),v("code",[e._v("e``s")]),e._v("pond"),v("code",[e._v("i")]),e._v("ng"),v("code",[e._v("``s``h``a")]),e._v("p"),v("code",[e._v("e``s``.``")]),e._v("T"),v("code",[e._v("h``e`` ``e")]),e._v("m"),v("code",[e._v("i``t``_")]),e._v("ou"),v("code",[e._v("t")]),e._v("pu"),v("code",[e._v("t``")]),e._v("v"),v("code",[e._v("a``l")]),e._v("u"),v("code",[e._v("e``")]),e._v("m"),v("code",[e._v("a")]),e._v("y"),v("code",[e._v("``b``e`` ``e``i``t``h``e")]),e._v("r"),v("code",[e._v("``None``")]),e._v("or"),v("code",[e._v("``a``")]),e._v("(po"),v("code",[e._v("s``s``i``b``l")]),e._v("y"),v("code"),e._v("n"),v("code",[e._v("e``s``t``e")]),e._v("d)"),v("code",[e._v("``t")]),e._v("up"),v("code",[e._v("l``e`` ``s``t")]),e._v("ru"),v("code",[e._v("c``t")]),e._v("ur"),v("code",[e._v("e``")]),e._v("of"),v("code",[e._v("``t``e")]),e._v("n"),v("code",[e._v("s")]),e._v("or"),v("code",[e._v("s``,`` ``e``.")]),e._v("g"),v("code",[e._v(".``,``")]),e._v("("),v("code",[e._v("t")]),e._v("f"),v("code",[e._v(".``z``e")]),e._v("ro"),v("code",[e._v("s")]),e._v("("),v("code",[e._v("s``h``a")]),e._v("p"),v("code",[e._v("e``_")]),e._v("0"),v("code",[e._v(",``")]),e._v("d"),v("code",[e._v("t")]),e._v("yp"),v("code",[e._v("e")]),e._v("=d"),v("code",[e._v("t")]),e._v("yp"),v("code",[e._v("e``_")]),e._v("0)"),v("code",[e._v(",`` ``t")]),e._v("f"),v("code",[e._v(".``z``e")]),e._v("ro"),v("code",[e._v("s")]),e._v("("),v("code",[e._v("s``h``a")]),e._v("p"),v("code",[e._v("e``_")]),e._v("1"),v("code",[e._v(",``")]),e._v("d"),v("code",[e._v("t")]),e._v("yp"),v("code",[e._v("e")]),e._v("=d"),v("code",[e._v("t")]),e._v("yp"),v("code",[e._v("e``_")]),e._v("1))"),v("code",[e._v(".``")]),e._v("If"),v("code",[e._v("``t``h``i``s``")]),e._v("f"),v("code",[e._v("i")]),e._v("r"),v("code",[e._v("s``t`` ``e")]),e._v("m"),v("code",[e._v("i``t``_")]),e._v("ou"),v("code",[e._v("t")]),e._v("pu"),v("code",[e._v("t``")]),e._v("r"),v("code",[e._v("e``t")]),e._v("urn"),v("code"),e._v("v"),v("code",[e._v("a``l")]),e._v("u"),v("code",[e._v("e`` ``i``s`` ``None``,`` ``t``h``e")]),e._v("n"),v("code",[e._v("``t``h``e`` ``e")]),e._v("m"),v("code",[e._v("i``t``_``t``a``")]),e._v("r"),v("code",[e._v("e``s")]),e._v("u"),v("code",[e._v("l``t``")]),e._v("of"),v("code",[e._v("``raw_rnn``")]),e._v("w"),v("code",[e._v("i``l``l`` ``h``a")]),e._v("v"),v("code",[e._v("e`` ``t``h``e`` ``s``a")]),e._v("m"),v("code",[e._v("e`` ``s``t")]),e._v("ru"),v("code",[e._v("c``t")]),e._v("ur"),v("code",[e._v("e`` ``a")]),e._v("nd"),v("code"),e._v("d"),v("code",[e._v("t")]),e._v("yp"),v("code",[e._v("e``s`` ``a``s`` ``cell``.")]),e._v("ou"),v("code",[e._v("t")]),e._v("pu"),v("code",[e._v("t``_``s``i``z``e``.``")]),e._v("O"),v("code",[e._v("t``h``e")]),e._v("rw"),v("code",[e._v("i``s``e`` ``e")]),e._v("m"),v("code",[e._v("i``t``_``t``a``")]),e._v("w"),v("code",[e._v("i``l``l`` ``h``a")]),e._v("v"),v("code",[e._v("e`` ``t``h``e`` ``s``a")]),e._v("m"),v("code",[e._v("e`` ``s``t")]),e._v("ru"),v("code",[e._v("c``t")]),e._v("ur"),v("code",[e._v("e``,`` ``s``h``a")]),e._v("p"),v("code",[e._v("e``s``")]),e._v("(pr"),v("code",[e._v("e")]),e._v("p"),v("code",[e._v("e")]),e._v("nd"),v("code",[e._v("e")]),e._v("d"),v("code"),e._v("w"),v("code",[e._v("i``t``h`` ``a`` ``b``a``t``c``h``_``s``i``z``e``")]),e._v("d"),v("code",[e._v("i")]),e._v("m"),v("code",[e._v("e")]),e._v("n"),v("code",[e._v("s``i")]),e._v("on)"),v("code",[e._v(",`` ``a")]),e._v("nd"),v("code"),e._v("d"),v("code",[e._v("t")]),e._v("yp"),v("code",[e._v("e``s`` ``a``s`` ``e")]),e._v("m"),v("code",[e._v("i``t``_")]),e._v("ou"),v("code",[e._v("t")]),e._v("pu"),v("code",[e._v("t``.``")]),e._v("T"),v("code",[e._v("h``e`` ``a``c``t")]),e._v("u"),v("code",[e._v("a``l``")]),e._v("v"),v("code",[e._v("a``l")]),e._v("u"),v("code",[e._v("e``s``")]),e._v("r"),v("code",[e._v("e``t")]),e._v("urn"),v("code",[e._v("e")]),e._v("d"),v("code"),e._v("for"),v("code",[e._v("``e")]),e._v("m"),v("code",[e._v("i``t``_")]),e._v("ou"),v("code",[e._v("t")]),e._v("pu"),v("code",[e._v("t`` ``a``t`` ``t``h``i``s`` ``i")]),e._v("n"),v("code",[e._v("i``t``i``a``l``i``z``i")]),e._v("ng"),v("code",[e._v("``c``a``l``l`` ``a")]),e._v("r"),v("code",[e._v("e`` ``i")]),e._v("gnor"),v("code",[e._v("e")]),e._v("d"),v("code",[e._v(".``")]),e._v("No"),v("code",[e._v("t``e``,`` ``t``h``i``s`` ``e")]),e._v("m"),v("code",[e._v("i``t`` ``s``t")]),e._v("ru"),v("code",[e._v("c``t")]),e._v("ur"),v("code",[e._v("e``")]),e._v("mu"),v("code",[e._v("s``t`` ``b``e`` ``c")]),e._v("on"),v("code",[e._v("s``i``s``t``e")]),e._v("n"),v("code",[e._v("t`` ``a``c")]),e._v("ro"),v("code",[e._v("s``s`` ``a``l``l`` ``time`` ``s``t``e")]),e._v("p"),v("code",[e._v("s``.")])]),e._v(" "),v("li",[v("code",[e._v("parallel_iterations")]),e._v(":"),v("code"),e._v("(D"),v("code",[e._v("e")]),e._v("f"),v("code",[e._v("a")]),e._v("u"),v("code",[e._v("l``t")]),e._v(":"),v("code"),e._v("32)"),v("code",[e._v(".``")]),e._v("T"),v("code",[e._v("h``e``")]),e._v("num"),v("code",[e._v("b``e")]),e._v("r"),v("code"),e._v("of"),v("code",[e._v("``i``t``e")]),e._v("r"),v("code",[e._v("a``t``i")]),e._v("on"),v("code",[e._v("s`` ``t")]),e._v("o"),v("code"),e._v("run"),v("code",[e._v("``i")]),e._v("n"),v("code"),e._v("p"),v("code",[e._v("a")]),e._v("r"),v("code",[e._v("a``l``l``e``l``.``")]),e._v("T"),v("code",[e._v("h")]),e._v("o"),v("code",[e._v("s``e``")]),e._v("op"),v("code",[e._v("e")]),e._v("r"),v("code",[e._v("a``t``i")]),e._v("on"),v("code",[e._v("s``")]),e._v("w"),v("code",[e._v("h``i``c``h``")]),e._v("do"),v("code"),e._v("no"),v("code",[e._v("t`` ``h``a")]),e._v("v"),v("code",[e._v("e`` ``a")]),e._v("ny"),v("code",[e._v("``t``e")]),e._v("mpor"),v("code",[e._v("a``l``")]),e._v("d"),v("code",[e._v("e")]),e._v("p"),v("code",[e._v("e")]),e._v("nd"),v("code",[e._v("e")]),e._v("n"),v("code",[e._v("c")]),e._v("y"),v("code",[e._v("``a")]),e._v("nd"),v("code",[e._v("``c``a")]),e._v("n"),v("code",[e._v("``b``e``")]),e._v("run"),v("code",[e._v("``i")]),e._v("n"),v("code"),e._v("p"),v("code",[e._v("a")]),e._v("r"),v("code",[e._v("a``l``l``e``l``,``")]),e._v("w"),v("code",[e._v("i``l``l`` ``b``e``.``")]),e._v("T"),v("code",[e._v("h``i``s``")]),e._v("p"),v("code",[e._v("a")]),e._v("r"),v("code",[e._v("a")]),e._v("m"),v("code",[e._v("e``t``e")]),e._v("r"),v("code",[e._v("``t")]),e._v("r"),v("code",[e._v("a")]),e._v("d"),v("code",[e._v("e``s``")]),e._v("off"),v("code",[e._v("``time``")]),e._v("for"),v("code",[e._v("``s")]),e._v("p"),v("code",[e._v("a``c``e``.``")]),e._v("V"),v("code",[e._v("a``l")]),e._v("u"),v("code",[e._v("e``s``")]),e._v(">>"),v("code"),e._v("1"),v("code"),e._v("u"),v("code",[e._v("s``e``")]),e._v("mor"),v("code",[e._v("e``")]),e._v("m"),v("code",[e._v("e")]),e._v("mory"),v("code",[e._v("``b")]),e._v("u"),v("code",[e._v("t`` ``t``a")]),e._v("k"),v("code",[e._v("e`` ``l``e``s``s`` ``time``,``")]),e._v("w"),v("code",[e._v("h``i``l``e`` ``s")]),e._v("m"),v("code",[e._v("a``l``l``e")]),e._v("r"),v("code"),e._v("v"),v("code",[e._v("a``l")]),e._v("u"),v("code",[e._v("e``s``")]),e._v("u"),v("code",[e._v("s``e`` ``l``e``s``s``")]),e._v("m"),v("code",[e._v("e")]),e._v("mory"),v("code",[e._v("``b")]),e._v("u"),v("code",[e._v("t`` ``c")]),e._v("ompu"),v("code",[e._v("t``a``t``i")]),e._v("on"),v("code",[e._v("s`` ``t``a")]),e._v("k"),v("code",[e._v("e`` ``l")]),e._v("ong"),v("code",[e._v("e")]),e._v("r"),v("code",[e._v(".")])]),e._v(" "),v("li",[v("code",[e._v("s")]),e._v("w"),v("code",[e._v("a")]),e._v("p"),v("code",[e._v("_")]),e._v("m"),v("code",[e._v("e")]),e._v("mory:"),v("code"),e._v("Tr"),v("code",[e._v("a")]),e._v("n"),v("code",[e._v("s")]),e._v("p"),v("code",[e._v("a")]),e._v("r"),v("code",[e._v("e")]),e._v("n"),v("code",[e._v("t``l")]),e._v("y"),v("code",[e._v("``s")]),e._v("w"),v("code",[e._v("a")]),e._v("p"),v("code",[e._v("``t``h``e`` ``t``e")]),e._v("n"),v("code",[e._v("s")]),e._v("or"),v("code",[e._v("s``")]),e._v("produ"),v("code",[e._v("c``e")]),e._v("d"),v("code",[e._v("``i")]),e._v("n"),v("code"),e._v("forw"),v("code",[e._v("a")]),e._v("rd"),v("code",[e._v("``i")]),e._v("nf"),v("code",[e._v("e")]),e._v("r"),v("code",[e._v("e")]),e._v("n"),v("code",[e._v("c``e`` ``b")]),e._v("u"),v("code",[e._v("t``")]),e._v("n"),v("code",[e._v("e``e")]),e._v("d"),v("code",[e._v("e")]),e._v("d"),v("code"),e._v("for"),v("code",[e._v("``b``a``c")]),e._v("k"),v("code"),e._v("prop"),v("code"),e._v("from"),v("code"),e._v("GPU"),v("code",[e._v("``t")]),e._v("o"),v("code"),e._v("CPU"),v("code",[e._v(".``")]),e._v("T"),v("code",[e._v("h``i``s`` ``a``l``l")]),e._v("ow"),v("code",[e._v("s`` ``t")]),e._v("r"),v("code",[e._v("a``i")]),e._v("n"),v("code",[e._v("i")]),e._v("ng"),v("code"),e._v("RNN"),v("code",[e._v("s``")]),e._v("w"),v("code",[e._v("h``i``c``h``")]),e._v("wou"),v("code",[e._v("l")]),e._v("d"),v("code",[e._v("``t")]),e._v("yp"),v("code",[e._v("i``c``a``l``l")]),e._v("y"),v("code"),e._v("no"),v("code",[e._v("t``")]),e._v("f"),v("code",[e._v("i``t``")]),e._v("on"),v("code",[e._v("``a`` ``s``i")]),e._v("ng"),v("code",[e._v("l``e``")]),e._v("GPU"),v("code",[e._v(",``")]),e._v("w"),v("code",[e._v("i``t``h``")]),e._v("v"),v("code",[e._v("e")]),e._v("ry"),v("code"),e._v("m"),v("code",[e._v("i")]),e._v("n"),v("code",[e._v("i")]),e._v("m"),v("code",[e._v("a``l``")]),e._v("(or"),v("code"),e._v("no)"),v("code"),e._v("p"),v("code",[e._v("e")]),e._v("rform"),v("code",[e._v("a")]),e._v("n"),v("code",[e._v("c``e``")]),e._v("p"),v("code",[e._v("e")]),e._v("n"),v("code",[e._v("a``l``t")]),e._v("y"),v("code",[e._v(".")])]),e._v(" "),v("li",[v("code",[e._v("s``c")]),e._v("op"),v("code",[e._v("e")]),e._v(":"),v("code"),e._v("V"),v("code",[e._v("a")]),e._v("r"),v("code",[e._v("i``a``b``l``e")]),e._v("S"),v("code",[e._v("c")]),e._v("op"),v("code",[e._v("e``")]),e._v("for"),v("code",[e._v("``t``h``e`` ``c")]),e._v("r"),v("code",[e._v("e``a``t``e")]),e._v("d"),v("code",[e._v("``s")]),e._v("u"),v("code",[e._v("b")]),e._v("gr"),v("code",[e._v("a")]),e._v("p"),v("code",[e._v("h")]),e._v(";"),v("code"),e._v("d"),v("code",[e._v("e")]),e._v("f"),v("code",[e._v("a")]),e._v("u"),v("code",[e._v("l``t``s`` ``t")]),e._v("o"),v("code"),e._v('"rnn"'),v("code",[e._v(".")])])]),e._v(" "),v("h4",{attrs:{id:"returns"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#returns","aria-hidden":"true"}},[e._v("#")]),e._v(" Returns:")]),e._v(" "),v("p",[e._v("A tuple (emit_ta, final_state, final_loop_state) where:")]),e._v(" "),v("p",[e._v("emit_ta: The RNN output TensorArray. If loop_fn returns a (possibly nested) set of Tensors for emit_output during initialization, (inputs time = 0, cell_output = None, and loop_state = None), then emit_ta will have the same structure, dtypes, and shapes as emit_output instead. If loop_fn returns emit_output = None during this call, the structure of cell.output_size is used: If cell.output_size is a (possibly nested) tuple of integers or TensorShape objects, then emit_ta will be a tuple having the same structure as cell.output_size, containing TensorArrays whose elements' shapes correspond to the shape data in cell.output_size.")]),e._v(" "),v("p",[e._v("final_state: The final cell state. If cell.state_size is an int, this will be shaped [batch_size, cell.state_size]. If it is a TensorShape, this will be shaped [batch_size] + cell.state_size. If it is a (possibly nested) tuple of ints or TensorShape, this will be a tuple having the corresponding shapes.")]),e._v(" "),v("p",[e._v("final_loop_state: The final loop state as returned by loop_fn.")]),e._v(" "),v("h4",{attrs:{id:"raises"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#raises","aria-hidden":"true"}},[e._v("#")]),e._v(" Raises:")]),e._v(" "),v("ul",[v("li",[v("code",[e._v("TypeError")]),e._v(": If "),v("code",[e._v("cell")]),e._v(" is not an instance of RNNCell, or "),v("code",[e._v("loop_fn")]),e._v(" is not a "),v("code",[e._v("callable")]),e._v(".")])])])}),[],!1,null,null,null);_.default=c.exports}}]);