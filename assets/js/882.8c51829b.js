(window.webpackJsonp=window.webpackJsonp||[]).push([[882],{1070:function(e,t,r){"use strict";r.r(t);var s=r(0),a=Object(s.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h2",{attrs:{id:"class-supervisor"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#class-supervisor","aria-hidden":"true"}},[e._v("#")]),e._v(" Class Supervisor")]),e._v(" "),r("p",[e._v("A training helper that checkpoints models and computes summaries.\n"),r("a",{attrs:{href:"https://www.tensorflow.org/api_docs/python/tf/compat/v1/train/MonitoredTrainingSession",target:"_blank",rel:"noopener noreferrer"}},[e._v("tf.compat.v1.train.MonitoredTrainingSession"),r("OutboundLink")],1),e._v("This class is deprecated. Please use  instead.")]),e._v(" "),r("p",[e._v("The Supervisor is a small wrapper around a Coordinator, a Saver, and a SessionManager that takes care of common needs of TensorFlow training programs.")]),e._v(" "),r("h4",{attrs:{id:"use-for-a-single-program"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#use-for-a-single-program","aria-hidden":"true"}},[e._v("#")]),e._v(" Use for a single program")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v(" with tf.Graph().as_default():\n  ...add operations to the graph...\n  # Create a Supervisor that will checkpoint the model in '/tmp/mydir'.\n  sv = Supervisor(logdir='/tmp/mydir')\n  # Get a TensorFlow session managed by the supervisor.\n  with sv.managed_session(FLAGS.master) as sess:\n    # Use the session to train the graph.\n    while not sv.should_stop():\n      sess.run(<my_train_op>)\n")])])]),r("p",[e._v("Within the with sv.managed_session() block all variables in the graph have been initialized. In addition, a few services have been started to checkpoint the model and add summaries to the event log.")]),e._v(" "),r("p",[e._v("If the program crashes and is restarted, the managed session automatically reinitialize variables from the most recent checkpoint.")]),e._v(" "),r("p",[e._v("The supervisor is notified of any exception raised by one of the services. After an exception is raised, should_stop() returns True. In that case the training loop should also stop. This is why the training loop has to check for sv.should_stop().\n"),r("a",{attrs:{href:"https://www.tensorflow.org/api_docs/python/tf/errors/OutOfRangeError",target:"_blank",rel:"noopener noreferrer"}},[e._v("tf.errors.OutOfRangeError"),r("OutboundLink")],1),e._v("Exceptions that indicate that the training inputs have been exhausted, , also cause sv.should_stop() to return True but are not re-raised from the with block: they indicate a normal termination.")]),e._v(" "),r("h4",{attrs:{id:"use-for-multiple-replicas"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#use-for-multiple-replicas","aria-hidden":"true"}},[e._v("#")]),e._v(" Use for multiple replicas")]),e._v(" "),r("p",[e._v("To train with replicas you deploy the same program in a Cluster. One of the tasks must be identified as the chief: the task that handles initialization, checkpoints, summaries, and recovery. The other tasks depend on the chief for these services.")]),e._v(" "),r("p",[e._v("The only change you have to do to the single program code is to indicate if the program is running as the chief.")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v(" # Choose a task as the chief. This could be based on server_def.task_index,\n# or job_def.name, or job_def.tasks. It's entirely up to the end user.\n# But there can be only one *chief*.\nis_chief = (server_def.task_index == 0)\nserver = tf.distribute.Server(server_def)\n\nwith tf.Graph().as_default():\n  ...add operations to the graph...\n  # Create a Supervisor that uses log directory on a shared file system.\n  # Indicate if you are the 'chief'\n  sv = Supervisor(logdir='/shared_directory/...', is_chief=is_chief)\n  # Get a Session in a TensorFlow server on the cluster.\n  with sv.managed_session(server.target) as sess:\n    # Use the session to train the graph.\n    while not sv.should_stop():\n      sess.run(<my_train_op>)\n")])])]),r("p",[e._v("In the chief task, the Supervisor works exactly as in the first example above. In the other tasks sv.managed_session() waits for the Model to have been initialized before returning a session to the training code. The non-chief tasks depend on the chief task for initializing the model.")]),e._v(" "),r("p",[e._v("If one of the tasks crashes and restarts, managed_session() checks if the Model is initialized. If yes, it just creates a session and returns it to the training code that proceeds normally. If the model needs to be initialized, the chief task takes care of reinitializing it; the other tasks just wait for the model to have been initialized.")]),e._v(" "),r("p",[e._v("NOTE: This modified program still works fine as a single program. The single program marks itself as the chief.")]),e._v(" "),r("h4",{attrs:{id:"what-master-string-to-use"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#what-master-string-to-use","aria-hidden":"true"}},[e._v("#")]),e._v(" What master string to use")]),e._v(" "),r("p",[e._v("Whether you are running on your machine or in the cluster you can use the following values for the --master flag:")]),e._v(" "),r("ul",[r("li",[e._v("Specifying "),r("code",[e._v("''")]),e._v(" requests an in-process session that does not use RPC.")]),e._v(" "),r("li",[e._v("Specifying "),r("code",[e._v("'local'")]),e._v(' requests a session that uses the RPC-based "Master interface" to run TensorFlow programs. See '),r("code",[e._v("tf.train.Server.create_local_server")]),e._v(" for details.")]),e._v(" "),r("li",[e._v("Specifying "),r("code",[e._v("'grpc://hostname:port'")]),e._v(" requests a session that uses the RPC interface to a specific host, and also allows the in-process master to access remote tensorflow workers. Often, it is appropriate to pass "),r("code",[e._v("server.target")]),e._v(" (for some "),r("code",[e._v("tf.distribute.Server")]),e._v(" named `server).")])]),e._v(" "),r("h4",{attrs:{id:"advanced-use"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#advanced-use","aria-hidden":"true"}},[e._v("#")]),e._v(" Advanced use")]),e._v(" "),r("h5",{attrs:{id:"launching-additional-services"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#launching-additional-services","aria-hidden":"true"}},[e._v("#")]),e._v(" Launching additional services")]),e._v(" "),r("p",[e._v("managed_session() launches the Checkpoint and Summary services (threads). If you need more services to run you can simply launch them in the block controlled by managed_session().")]),e._v(" "),r("p",[e._v("Example: Start a thread to print losses. We want this thread to run every 60 seconds, so we launch it with sv.loop().")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v(" ...\nsv = Supervisor(logdir='/tmp/mydir')\nwith sv.managed_session(FLAGS.master) as sess:\n  sv.loop(60, print_loss, (sess, ))\n  while not sv.should_stop():\n    sess.run(my_train_op)\n")])])]),r("h5",{attrs:{id:"launching-fewer-services"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#launching-fewer-services","aria-hidden":"true"}},[e._v("#")]),e._v(" Launching fewer services")]),e._v(" "),r("p",[e._v('managed_session() launches the "summary" and "checkpoint" threads which use either the optionally summary_op and saver passed to the constructor, or default ones created automatically by the supervisor. If you want to run your own summary and checkpointing logic, disable these services by passing None to the summary_op and saver parameters.')]),e._v(" "),r("p",[e._v("Example: Create summaries manually every 100 steps in the chief.")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v(" # Create a Supervisor with no automatic summaries.\nsv = Supervisor(logdir='/tmp/mydir', is_chief=is_chief, summary_op=None)\n# As summary_op was None, managed_session() does not start the\n# summary thread.\nwith sv.managed_session(FLAGS.master) as sess:\n  for step in xrange(1000000):\n    if sv.should_stop():\n      break\n    if is_chief and step % 100 == 0:\n      # Create the summary every 100 chief steps.\n      sv.summary_computed(sess, sess.run(my_summary_op))\n    else:\n      # Train normally\n      sess.run(my_train_op)\n")])])]),r("h5",{attrs:{id:"custom-model-initialization"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#custom-model-initialization","aria-hidden":"true"}},[e._v("#")]),e._v(" Custom model initialization")]),e._v(" "),r("p",[e._v("managed_session() only supports initializing the model by running an init_op or restoring from the latest checkpoint. If you have special initialization needs, see how to specify a local_init_op when creating the supervisor. You can also use the SessionManager directly to create a session and check if it could be initialized automatically.")]),e._v(" "),r("h2",{attrs:{id:"init"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#init","aria-hidden":"true"}},[e._v("#")]),e._v(" "),r("strong",[e._v("init")])]),e._v(" "),r("p",[r("a",{attrs:{href:"https://github.com/tensorflow/tensorflow/blob/r2.0/tensorflow/python/training/supervisor.py#L207-L357",target:"_blank",rel:"noopener noreferrer"}},[e._v("View source"),r("OutboundLink")],1)]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v(" __init__(\n    graph=None,\n    ready_op=USE_DEFAULT,\n    ready_for_local_init_op=USE_DEFAULT,\n    is_chief=True,\n    init_op=USE_DEFAULT,\n    init_feed_dict=None,\n    local_init_op=USE_DEFAULT,\n    logdir=None,\n    summary_op=USE_DEFAULT,\n    saver=USE_DEFAULT,\n    global_step=USE_DEFAULT,\n    save_summaries_secs=120,\n    save_model_secs=600,\n    recovery_wait_secs=30,\n    stop_grace_secs=120,\n    checkpoint_basename='model.ckpt',\n    session_manager=None,\n    summary_writer=USE_DEFAULT,\n    init_fn=None,\n    local_init_run_options=None\n)\n")])])]),r("p",[e._v("Create a Supervisor. (deprecated)")]),e._v(" "),r("h4",{attrs:{id:"args"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#args","aria-hidden":"true"}},[e._v("#")]),e._v(" Args:")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("graph")]),e._v(": A "),r("code",[e._v("Graph")]),e._v(". The "),r("code",[e._v("graph")]),e._v(" that the model will use. Defaults to the default "),r("code",[e._v("Graph")]),e._v(". The supervisor may add operations to the "),r("code",[e._v("graph")]),e._v(" before creating a session, but the "),r("code",[e._v("graph")]),e._v(" should not be modified by the caller after passing it to the supervisor.")]),e._v(" "),r("li",[r("code",[e._v("ready_op")]),e._v(": 1-D string "),r("code",[e._v("Tensor")]),e._v(". This tensor is evaluated by supervisors in "),r("code",[e._v("prepare_or_wait_for_session")]),e._v("() to check if the model is ready to use. The model is considered ready if it returns an empty array. Defaults to the tensor returned from "),r("code",[e._v("tf.compat.v1.report_uninitialized_variables")]),e._v("() If "),r("code",[e._v("None")]),e._v(", the model is not checked for readiness.")]),e._v(" "),r("li",[r("code",[e._v("ready_for_local_init_op")]),e._v(": 1-D string "),r("code",[e._v("Tensor")]),e._v(". This tensor is evaluated by supervisors in "),r("code",[e._v("prepare_or_wait_for_session")]),e._v("() to check if the model is ready to run the local_init_op. The model is considered ready if it returns an empty array. Defaults to "),r("code",[e._v("None")]),e._v(". If "),r("code",[e._v("None")]),e._v(", the model is not checked for readiness before running local_init_op.")]),e._v(" "),r("li",[r("code",[e._v("is_chief")]),e._v(": If True, create a chief supervisor in charge of initializing and restoring the model. If False, create a supervisor that relies on a chief supervisor for inits and restore.")]),e._v(" "),r("li",[r("code",[e._v("init_op")]),e._v(": "),r("code",[e._v("Operation")]),e._v(". Used by chief supervisors to initialize the model when it can not be recovered. Defaults to an "),r("code",[e._v("Operation")]),e._v(" that initializes all global variables. If "),r("code",[e._v("None")]),e._v(", no initialization is done automatically unless you pass a value for "),r("code",[e._v("init_fn")]),e._v(", see below.")]),e._v(" "),r("li",[r("code",[e._v("init_feed_dict")]),e._v(": A dictionary that maps "),r("code",[e._v("Tensor")]),e._v(" objects to feed values. This feed dictionary will be used when "),r("code",[e._v("init_op")]),e._v(" is evaluated.")]),e._v(" "),r("li",[r("code",[e._v("local_init_op")]),e._v(": "),r("code",[e._v("Operation")]),e._v(". Used by all supervisors to run initializations that should run for every new supervisor instance. By default these are table initializers and initializers for local variables. If "),r("code",[e._v("None")]),e._v(", no further per supervisor-instance initialization is done automatically.")]),e._v(" "),r("li",[r("code",[e._v("logdir")]),e._v(": A string. Optional path to a directory where to checkpoint the model and log events for the visualizer. Used by chief supervisors. The directory will be created if it does not exist.")]),e._v(" "),r("li",[r("code",[e._v("summary_op")]),e._v(": An "),r("code",[e._v("Operation")]),e._v(" that returns a Summary for the event logs. Used by chief supervisors if a "),r("code",[e._v("logdir")]),e._v(" was specified. Defaults to the operation returned from summary.merge_all(). If "),r("code",[e._v("None")]),e._v(", summaries are not computed automatically.")]),e._v(" "),r("li",[r("code",[e._v("saver")]),e._v(": A Saver object. Used by chief supervisors if a "),r("code",[e._v("logdir")]),e._v(" was specified. Defaults to the saved returned by Saver(). If "),r("code",[e._v("None")]),e._v(", the model is not saved automatically.")]),e._v(" "),r("li",[r("code",[e._v("global_step")]),e._v(": An integer "),r("code",[e._v("Tensor")]),e._v(" of size 1 that counts steps. The value from '"),r("code",[e._v("global_step")]),e._v("' is used in summaries and checkpoint filenames. Default to the op named '"),r("code",[e._v("global_step")]),e._v("' in the "),r("code",[e._v("graph")]),e._v(" if it exists, is of rank 1, size 1, and of type tf.int32 or tf.int64. If "),r("code",[e._v("None")]),e._v(" the global step is not recorded in summaries and checkpoint files. Used by chief supervisors if a "),r("code",[e._v("logdir")]),e._v(" was specified.")]),e._v(" "),r("li",[r("code",[e._v("save_summaries_secs")]),e._v(": Number of seconds between the computation of summaries for the event log. Defaults to 120 seconds. Pass 0 to disable summaries.")]),e._v(" "),r("li",[r("code",[e._v("save_model_secs")]),e._v(": Number of seconds between the creation of model checkpoints. Defaults to 600 seconds. Pass 0 to disable checkpoints.")]),e._v(" "),r("li",[r("code",[e._v("recovery_wait_secs")]),e._v(": Number of seconds between checks that the model is ready. Used by supervisors when waiting for a chief supervisor to initialize or restore the model. Defaults to 30 seconds.")]),e._v(" "),r("li",[r("code",[e._v("stop_grace_secs")]),e._v(": Grace period, in seconds, given to running threads to "),r("code",[e._v("stop")]),e._v(" when "),r("code",[e._v("stop")]),e._v("() is called. Defaults to 120 seconds.")]),e._v(" "),r("li",[r("code",[e._v("checkpoint_basename")]),e._v(": The basename for checkpoint saving.")]),e._v(" "),r("li",[r("code",[e._v("session_manager")]),e._v(": "),r("code",[e._v("SessionManager")]),e._v(", which manages Session creation and recovery. If it is "),r("code",[e._v("None")]),e._v(", a default "),r("code",[e._v("SessionManager")]),e._v(" will be created with the set of arguments passed in for backwards compatibility.")]),e._v(" "),r("li",[r("code",[e._v("summary_writer")]),e._v(": "),r("code",[e._v("SummaryWriter")]),e._v(" to use or "),r("code",[e._v("USE_DEFAULT")]),e._v(". Can be "),r("code",[e._v("None")]),e._v(" to indicate that no summaries should be written.")]),e._v(" "),r("li",[r("code",[e._v("init_fn")]),e._v(": Optional callable used to initialize the model. Called after the optional "),r("code",[e._v("init_op")]),e._v(" is called. The callable must accept one argument, the session being initialized.")]),e._v(" "),r("li",[r("code",[e._v("local_init_run_options")]),e._v(": RunOptions to be passed as the "),r("code",[e._v("SessionManager")]),e._v(" "),r("code",[e._v("local_init_run_options")]),e._v(" parameter.")])]),e._v(" "),r("h4",{attrs:{id:"returns"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#returns","aria-hidden":"true"}},[e._v("#")]),e._v(" Returns:")]),e._v(" "),r("p",[e._v("A Supervisor.")]),e._v(" "),r("h4",{attrs:{id:"raises"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#raises","aria-hidden":"true"}},[e._v("#")]),e._v(" Raises:")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("RuntimeError")]),e._v(": If called with eager execution enabled.")])]),e._v(" "),r("h4",{attrs:{id:"eager-compatibility"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#eager-compatibility","aria-hidden":"true"}},[e._v("#")]),e._v(" Eager Compatibility")]),e._v(" "),r("p",[e._v("Supervisors are not supported when eager execution is enabled.")]),e._v(" "),r("h2",{attrs:{id:"properties"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#properties","aria-hidden":"true"}},[e._v("#")]),e._v(" Properties")]),e._v(" "),r("h3",{attrs:{id:"coord"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#coord","aria-hidden":"true"}},[e._v("#")]),e._v(" coord")]),e._v(" "),r("p",[e._v("Return the Coordinator used by the Supervisor.")]),e._v(" "),r("p",[e._v("The Coordinator can be useful if you want to run multiple threads during your training.")]),e._v(" "),r("h4",{attrs:{id:"returns-2"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#returns-2","aria-hidden":"true"}},[e._v("#")]),e._v(" Returns:")]),e._v(" "),r("p",[e._v("A Coordinator object.")]),e._v(" "),r("h3",{attrs:{id:"global-step"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#global-step","aria-hidden":"true"}},[e._v("#")]),e._v(" global_step")]),e._v(" "),r("p",[e._v("Return the global_step Tensor used by the supervisor.")]),e._v(" "),r("h4",{attrs:{id:"returns-3"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#returns-3","aria-hidden":"true"}},[e._v("#")]),e._v(" Returns:")]),e._v(" "),r("p",[e._v("An integer Tensor for the global_step.")]),e._v(" "),r("h3",{attrs:{id:"init-feed-dict"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#init-feed-dict","aria-hidden":"true"}},[e._v("#")]),e._v(" init_feed_dict")]),e._v(" "),r("p",[e._v("Return the feed dictionary used when evaluating the init_op.")]),e._v(" "),r("h4",{attrs:{id:"returns-4"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#returns-4","aria-hidden":"true"}},[e._v("#")]),e._v(" Returns:")]),e._v(" "),r("p",[e._v("A feed dictionary or None.")]),e._v(" "),r("h3",{attrs:{id:"init-op"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#init-op","aria-hidden":"true"}},[e._v("#")]),e._v(" init_op")]),e._v(" "),r("p",[e._v("Return the Init Op used by the supervisor.")]),e._v(" "),r("h4",{attrs:{id:"returns-5"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#returns-5","aria-hidden":"true"}},[e._v("#")]),e._v(" Returns:")]),e._v(" "),r("p",[e._v("An Op or None.")]),e._v(" "),r("h3",{attrs:{id:"is-chief"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#is-chief","aria-hidden":"true"}},[e._v("#")]),e._v(" is_chief")]),e._v(" "),r("p",[e._v("Return True if this is a chief supervisor.")]),e._v(" "),r("h4",{attrs:{id:"returns-6"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#returns-6","aria-hidden":"true"}},[e._v("#")]),e._v(" Returns:")]),e._v(" "),r("p",[e._v("A bool.")]),e._v(" "),r("h3",{attrs:{id:"ready-for-local-init-op"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#ready-for-local-init-op","aria-hidden":"true"}},[e._v("#")]),e._v(" ready_for_local_init_op")]),e._v(" "),r("h3",{attrs:{id:"ready-op"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#ready-op","aria-hidden":"true"}},[e._v("#")]),e._v(" ready_op")]),e._v(" "),r("p",[e._v("Return the Ready Op used by the supervisor.")]),e._v(" "),r("h4",{attrs:{id:"returns-7"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#returns-7","aria-hidden":"true"}},[e._v("#")]),e._v(" Returns:")]),e._v(" "),r("p",[e._v("An Op or None.")]),e._v(" "),r("h3",{attrs:{id:"save-model-secs"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#save-model-secs","aria-hidden":"true"}},[e._v("#")]),e._v(" save_model_secs")]),e._v(" "),r("p",[e._v("Return the delay between checkpoints.")]),e._v(" "),r("h4",{attrs:{id:"returns-8"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#returns-8","aria-hidden":"true"}},[e._v("#")]),e._v(" Returns:")]),e._v(" "),r("p",[e._v("A timestamp.")]),e._v(" "),r("h3",{attrs:{id:"save-path"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#save-path","aria-hidden":"true"}},[e._v("#")]),e._v(" save_path")]),e._v(" "),r("p",[e._v("Return the save path used by the supervisor.")]),e._v(" "),r("h4",{attrs:{id:"returns-9"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#returns-9","aria-hidden":"true"}},[e._v("#")]),e._v(" Returns:")]),e._v(" "),r("p",[e._v("A string.")]),e._v(" "),r("h3",{attrs:{id:"save-summaries-secs"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#save-summaries-secs","aria-hidden":"true"}},[e._v("#")]),e._v(" save_summaries_secs")]),e._v(" "),r("p",[e._v("Return the delay between summary computations.")]),e._v(" "),r("h4",{attrs:{id:"returns-10"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#returns-10","aria-hidden":"true"}},[e._v("#")]),e._v(" Returns:")]),e._v(" "),r("p",[e._v("A timestamp.")]),e._v(" "),r("h3",{attrs:{id:"saver"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#saver","aria-hidden":"true"}},[e._v("#")]),e._v(" saver")]),e._v(" "),r("p",[e._v("Return the Saver used by the supervisor.")]),e._v(" "),r("h4",{attrs:{id:"returns-11"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#returns-11","aria-hidden":"true"}},[e._v("#")]),e._v(" Returns:")]),e._v(" "),r("p",[e._v("A Saver object.")]),e._v(" "),r("h3",{attrs:{id:"session-manager"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#session-manager","aria-hidden":"true"}},[e._v("#")]),e._v(" session_manager")]),e._v(" "),r("p",[e._v("Return the SessionManager used by the Supervisor.")]),e._v(" "),r("h4",{attrs:{id:"returns-12"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#returns-12","aria-hidden":"true"}},[e._v("#")]),e._v(" Returns:")]),e._v(" "),r("p",[e._v("A SessionManager object.")]),e._v(" "),r("h3",{attrs:{id:"summary-op"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#summary-op","aria-hidden":"true"}},[e._v("#")]),e._v(" summary_op")]),e._v(" "),r("p",[e._v("Return the Summary Tensor used by the chief supervisor.")]),e._v(" "),r("h4",{attrs:{id:"returns-13"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#returns-13","aria-hidden":"true"}},[e._v("#")]),e._v(" Returns:")]),e._v(" "),r("p",[e._v("A string Tensor for the summary or None.")]),e._v(" "),r("h3",{attrs:{id:"summary-writer"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#summary-writer","aria-hidden":"true"}},[e._v("#")]),e._v(" summary_writer")]),e._v(" "),r("p",[e._v("Return the SummaryWriter used by the chief supervisor.")]),e._v(" "),r("h4",{attrs:{id:"returns-14"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#returns-14","aria-hidden":"true"}},[e._v("#")]),e._v(" Returns:")]),e._v(" "),r("p",[e._v("A SummaryWriter.")]),e._v(" "),r("h2",{attrs:{id:"methods"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#methods","aria-hidden":"true"}},[e._v("#")]),e._v(" Methods")]),e._v(" "),r("h3",{attrs:{id:"loop"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#loop","aria-hidden":"true"}},[e._v("#")]),e._v(" Loop")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://github.com/tensorflow/tensorflow/blob/r2.0/tensorflow/python/training/supervisor.py#L782-L808",target:"_blank",rel:"noopener noreferrer"}},[e._v("View source"),r("OutboundLink")],1)]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v(" Loop(\n    timer_interval_secs,\n    target,\n    args=None,\n    kwargs=None\n)\n")])])]),r("p",[e._v("Start a LooperThread that calls a function periodically.")]),e._v(" "),r("p",[e._v("If timer_interval_secs is None the thread calls target(*args, **kwargs) repeatedly. Otherwise it calls it every timer_interval_secs seconds. The thread terminates when a stop is requested.")]),e._v(" "),r("p",[e._v("The started thread is added to the list of threads managed by the supervisor so it does not need to be passed to the stop() method.")]),e._v(" "),r("h4",{attrs:{id:"args-2"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#args-2","aria-hidden":"true"}},[e._v("#")]),e._v(" Args:")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("timer_interval_secs")]),e._v(": Number. Time boundaries at which to call "),r("code",[e._v("target")]),e._v(".")]),e._v(" "),r("li",[r("code",[e._v("target")]),e._v(": A callable object.")]),e._v(" "),r("li",[r("code",[e._v("args")]),e._v(": Optional arguments to pass to "),r("code",[e._v("target")]),e._v(" when calling it.")]),e._v(" "),r("li",[r("code",[e._v("kwargs")]),e._v(": Optional keyword arguments to pass to "),r("code",[e._v("target")]),e._v(" when calling it.")])]),e._v(" "),r("h4",{attrs:{id:"returns-15"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#returns-15","aria-hidden":"true"}},[e._v("#")]),e._v(" Returns:")]),e._v(" "),r("p",[e._v("The started thread.")]),e._v(" "),r("h3",{attrs:{id:"preparesession"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#preparesession","aria-hidden":"true"}},[e._v("#")]),e._v(" PrepareSession")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://github.com/tensorflow/tensorflow/blob/r2.0/tensorflow/python/training/supervisor.py#L690-L745",target:"_blank",rel:"noopener noreferrer"}},[e._v("View source"),r("OutboundLink")],1)]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v(" PrepareSession(\n    master='',\n    config=None,\n    wait_for_checkpoint=False,\n    max_wait_secs=7200,\n    start_standard_services=True\n)\n")])])]),r("p",[e._v("Make sure the model is ready to be used.")]),e._v(" "),r("p",[e._v("Create a session on 'master', recovering or initializing the model as needed, or wait for a session to be ready. If running as the chief and start_standard_service is set to True, also call the session manager to start the standard services.")]),e._v(" "),r("h4",{attrs:{id:"args-3"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#args-3","aria-hidden":"true"}},[e._v("#")]),e._v(" Args:")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("master")]),e._v(": name of the TensorFlow "),r("code",[e._v("master")]),e._v(" to use. See the "),r("code",[e._v("tf.compat.v1.Session")]),e._v(" constructor for how this is interpreted.")]),e._v(" "),r("li",[r("code",[e._v("config")]),e._v(": Optional ConfigProto proto used to "),r("code",[e._v("config")]),e._v("ure the session, which is passed as-is to create the session.")]),e._v(" "),r("li",[r("code",[e._v("wait_for_checkpoint")]),e._v(": Whether we should wait for the availability of a checkpoint before creating Session. Defaults to False.")]),e._v(" "),r("li",[r("code",[e._v("max_wait_secs")]),e._v(": Maximum time to wait for the session to become available.")]),e._v(" "),r("li",[r("code",[e._v("start_standard_services")]),e._v(": Whether to start the standard services and the queue runners.")])]),e._v(" "),r("h4",{attrs:{id:"returns-16"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#returns-16","aria-hidden":"true"}},[e._v("#")]),e._v(" Returns:")]),e._v(" "),r("p",[e._v("A Session object that can be used to drive the model.")]),e._v(" "),r("h3",{attrs:{id:"requeststop"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#requeststop","aria-hidden":"true"}},[e._v("#")]),e._v(" RequestStop")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://github.com/tensorflow/tensorflow/blob/r2.0/tensorflow/python/training/supervisor.py#L849-L859",target:"_blank",rel:"noopener noreferrer"}},[e._v("View source"),r("OutboundLink")],1)]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v(" RequestStop(ex=None)\n")])])]),r("p",[e._v("Request that the coordinator stop the threads.")]),e._v(" "),r("p",[e._v("See Coordinator.request_stop().")]),e._v(" "),r("h4",{attrs:{id:"args-4"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#args-4","aria-hidden":"true"}},[e._v("#")]),e._v(" Args:")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("ex")]),e._v(": Optional "),r("code",[e._v("Exception")]),e._v(", or Python "),r("code",[e._v("ex")]),e._v("c_info tuple as returned by "),r("code",[e._v("sys.exc_info")]),e._v("(). If this is the first call to "),r("code",[e._v("request_stop")]),e._v("() the corresponding "),r("code",[e._v("ex")]),e._v("ception is recorded and re-raised from "),r("code",[e._v("join")]),e._v("().")])]),e._v(" "),r("h3",{attrs:{id:"shouldstop"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#shouldstop","aria-hidden":"true"}},[e._v("#")]),e._v(" ShouldStop")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://github.com/tensorflow/tensorflow/blob/r2.0/tensorflow/python/training/supervisor.py#L861-L869",target:"_blank",rel:"noopener noreferrer"}},[e._v("View source"),r("OutboundLink")],1)]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v(" ShouldStop()\n")])])]),r("p",[e._v("Check if the coordinator was told to stop.")]),e._v(" "),r("p",[e._v("See Coordinator.should_stop().")]),e._v(" "),r("h4",{attrs:{id:"returns-17"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#returns-17","aria-hidden":"true"}},[e._v("#")]),e._v(" Returns:")]),e._v(" "),r("p",[e._v("True if the coordinator was told to stop, False otherwise.")]),e._v(" "),r("h3",{attrs:{id:"startqueuerunners"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#startqueuerunners","aria-hidden":"true"}},[e._v("#")]),e._v(" StartQueueRunners")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://github.com/tensorflow/tensorflow/blob/r2.0/tensorflow/python/training/supervisor.py#L747-L780",target:"_blank",rel:"noopener noreferrer"}},[e._v("View source"),r("OutboundLink")],1)]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v(" StartQueueRunners(\n    sess,\n    queue_runners=None\n)\n")])])]),r("p",[e._v("Start threads for QueueRunners.")]),e._v(" "),r("p",[e._v("Note that the queue runners collected in the graph key QUEUE_RUNNERS are already started automatically when you create a session with the supervisor, so unless you have non-collected queue runners to start you do not need to call this explicitly.")]),e._v(" "),r("h4",{attrs:{id:"args-5"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#args-5","aria-hidden":"true"}},[e._v("#")]),e._v(" Args:")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("sess")]),e._v(": A "),r("code",[e._v("Session")]),e._v(".")]),e._v(" "),r("li",[r("code",[e._v("queue_runners")]),e._v(": A list of "),r("code",[e._v("QueueRunners")]),e._v(". If not specified, we'll use the list of queue runners gathered in the graph under the key "),r("code",[e._v("GraphKeys.QUEUE_RUNNERS")]),e._v(".")])]),e._v(" "),r("h4",{attrs:{id:"returns-18"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#returns-18","aria-hidden":"true"}},[e._v("#")]),e._v(" Returns:")]),e._v(" "),r("p",[e._v("The list of threads started for the QueueRunners.")]),e._v(" "),r("h4",{attrs:{id:"raises-2"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#raises-2","aria-hidden":"true"}},[e._v("#")]),e._v(" Raises:")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("RuntimeError")]),e._v(": If called with eager execution enabled.")])]),e._v(" "),r("h4",{attrs:{id:"eager-compatibility-2"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#eager-compatibility-2","aria-hidden":"true"}},[e._v("#")]),e._v(" Eager Compatibility")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://www.tensorflow.org/api_docs/python/tf/data",target:"_blank",rel:"noopener noreferrer"}},[e._v("tf.data"),r("OutboundLink")],1),e._v("Queues are not compatible with eager execution. To ingest data when eager execution is enabled, use the  API.")]),e._v(" "),r("h3",{attrs:{id:"startstandardservices"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#startstandardservices","aria-hidden":"true"}},[e._v("#")]),e._v(" StartStandardServices")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://github.com/tensorflow/tensorflow/blob/r2.0/tensorflow/python/training/supervisor.py#L638-L688",target:"_blank",rel:"noopener noreferrer"}},[e._v("View source"),r("OutboundLink")],1)]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v(" StartStandardServices(sess)\n")])])]),r("p",[e._v("Start the standard services for 'sess'.")]),e._v(" "),r("p",[e._v("This starts services in the background. The services started depend on the parameters to the constructor and may include:")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("A")]),e._v(" "),r("code",[e._v("S")]),e._v("u"),r("code",[e._v("m")]),e._v("m"),r("code",[e._v("a")]),e._v("r"),r("code",[e._v("y")]),e._v(" "),r("code",[e._v("t")]),e._v("h"),r("code",[e._v("r")]),e._v("e"),r("code",[e._v("a")]),e._v("d"),r("code"),e._v("c"),r("code",[e._v("o")]),e._v("m"),r("code",[e._v("p")]),e._v("u"),r("code",[e._v("t")]),e._v("i"),r("code",[e._v("n")]),e._v("g"),r("code"),e._v("s"),r("code",[e._v("u")]),e._v("m"),r("code",[e._v("m")]),e._v("a"),r("code",[e._v("r")]),e._v("i"),r("code",[e._v("e")]),e._v("s"),r("code"),e._v("e"),r("code",[e._v("v")]),e._v("e"),r("code",[e._v("r")]),e._v("y"),r("code"),e._v("s"),r("code",[e._v("a")]),e._v("v"),r("code",[e._v("e")]),r("em",[r("code",[e._v("s")]),e._v("u"),r("code",[e._v("m")]),e._v("m"),r("code",[e._v("a")]),e._v("r"),r("code",[e._v("i")]),e._v("e"),r("code",[e._v("s")])]),r("code",[e._v("s")]),e._v("e"),r("code",[e._v("c")]),e._v("s"),r("code",[e._v(".")])]),e._v(" "),r("li",[r("code",[e._v("A")]),e._v(" "),r("code",[e._v("C")]),e._v("h"),r("code",[e._v("e")]),e._v("c"),r("code",[e._v("k")]),e._v("p"),r("code",[e._v("o")]),e._v("i"),r("code",[e._v("n")]),e._v("t"),r("code"),e._v("t"),r("code",[e._v("h")]),e._v("r"),r("code",[e._v("e")]),e._v("a"),r("code",[e._v("d")]),e._v(" "),r("code",[e._v("s")]),e._v("a"),r("code",[e._v("v")]),e._v("i"),r("code",[e._v("n")]),e._v("g"),r("code"),e._v("t"),r("code",[e._v("h")]),e._v("e"),r("code"),e._v("m"),r("code",[e._v("o")]),e._v("d"),r("code",[e._v("e")]),e._v("l"),r("code"),e._v("e"),r("code",[e._v("v")]),e._v("e"),r("code",[e._v("r")]),e._v("y"),r("code"),e._v("s"),r("code",[e._v("a")]),e._v("v"),r("code",[e._v("e")]),r("em",[r("code",[e._v("m")]),e._v("o"),r("code",[e._v("d")]),e._v("e"),r("code",[e._v("l")])]),r("code",[e._v("s")]),e._v("e"),r("code",[e._v("c")]),e._v("s"),r("code",[e._v(".")])]),e._v(" "),r("li",[r("code",[e._v("A")]),e._v(" "),r("code",[e._v("S")]),e._v("t"),r("code",[e._v("e")]),e._v("p"),r("code",[e._v("C")]),e._v("o"),r("code",[e._v("u")]),e._v("n"),r("code",[e._v("t")]),e._v("e"),r("code",[e._v("r")]),e._v(" "),r("code",[e._v("t")]),e._v("h"),r("code",[e._v("r")]),e._v("e"),r("code",[e._v("a")]),e._v("d"),r("code"),e._v("m"),r("code",[e._v("e")]),e._v("a"),r("code",[e._v("s")]),e._v("u"),r("code",[e._v("r")]),e._v("e"),r("code"),e._v("s"),r("code",[e._v("t")]),e._v("e"),r("code",[e._v("p")]),e._v(" "),r("code",[e._v("t")]),e._v("i"),r("code",[e._v("m")]),e._v("e"),r("code",[e._v(".")])])]),e._v(" "),r("h4",{attrs:{id:"args-6"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#args-6","aria-hidden":"true"}},[e._v("#")]),e._v(" Args:")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("sess")]),e._v(": A Session.")])]),e._v(" "),r("h4",{attrs:{id:"returns-19"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#returns-19","aria-hidden":"true"}},[e._v("#")]),e._v(" Returns:")]),e._v(" "),r("p",[e._v("A list of threads that are running the standard services. You can use the Supervisor's Coordinator to join these threads with: sv.coord.Join()")]),e._v(" "),r("h4",{attrs:{id:"raises-3"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#raises-3","aria-hidden":"true"}},[e._v("#")]),e._v(" Raises:")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("RuntimeError")]),e._v(": If called with a non-chief Supervisor.")]),e._v(" "),r("li",[r("code",[e._v("ValueError")]),e._v(": If not "),r("code",[e._v("logdir")]),e._v(" was passed to the constructor as the services need a log directory.")])]),e._v(" "),r("h3",{attrs:{id:"stop"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#stop","aria-hidden":"true"}},[e._v("#")]),e._v(" Stop")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://github.com/tensorflow/tensorflow/blob/r2.0/tensorflow/python/training/supervisor.py#L810-L847",target:"_blank",rel:"noopener noreferrer"}},[e._v("View source"),r("OutboundLink")],1)]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v(" Stop(\n    threads=None,\n    close_summary_writer=True,\n    ignore_live_threads=False\n)\n")])])]),r("p",[e._v("Stop the services and the coordinator.")]),e._v(" "),r("p",[e._v("This does not close the session.")]),e._v(" "),r("h4",{attrs:{id:"args-7"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#args-7","aria-hidden":"true"}},[e._v("#")]),e._v(" Args:")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("threads")]),e._v(": Optional list of "),r("code",[e._v("threads")]),e._v(" to join with the coordinator. If "),r("code",[e._v("None")]),e._v(", defaults to the "),r("code",[e._v("threads")]),e._v(" running the standard services, the "),r("code",[e._v("threads")]),e._v(" started for "),r("code",[e._v("QueueRunners")]),e._v(", and the "),r("code",[e._v("threads")]),e._v(" started by the "),r("code",[e._v("loop")]),e._v("() method. To wait on additional "),r("code",[e._v("threads")]),e._v(", pass the list in this parameter.")]),e._v(" "),r("li",[r("code",[e._v("close_summary_writer")]),e._v(": Whether to close the "),r("code",[e._v("summary_writer")]),e._v(". Defaults to "),r("code",[e._v("True")]),e._v(" if the summary writer was created by the supervisor, "),r("code",[e._v("False")]),e._v(" otherwise.")]),e._v(" "),r("li",[r("code",[e._v("ignore_live_threads")]),e._v(": If "),r("code",[e._v("True")]),e._v(" ignores "),r("code",[e._v("threads")]),e._v(" that remain running after a grace period when joining "),r("code",[e._v("threads")]),e._v(" via the coordinator, instead of raising a RuntimeError.")])]),e._v(" "),r("h3",{attrs:{id:"stoponexception"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#stoponexception","aria-hidden":"true"}},[e._v("#")]),e._v(" StopOnException")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://github.com/tensorflow/tensorflow/blob/r2.0/tensorflow/python/training/supervisor.py#L871-L879",target:"_blank",rel:"noopener noreferrer"}},[e._v("View source"),r("OutboundLink")],1)]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v(" StopOnException()\n")])])]),r("p",[e._v("Context handler to stop the supervisor when an exception is raised.")]),e._v(" "),r("p",[e._v("See Coordinator.stop_on_exception().")]),e._v(" "),r("h4",{attrs:{id:"returns-20"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#returns-20","aria-hidden":"true"}},[e._v("#")]),e._v(" Returns:")]),e._v(" "),r("p",[e._v("A context handler.")]),e._v(" "),r("h3",{attrs:{id:"summarycomputed"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#summarycomputed","aria-hidden":"true"}},[e._v("#")]),e._v(" SummaryComputed")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://github.com/tensorflow/tensorflow/blob/r2.0/tensorflow/python/training/supervisor.py#L885-L902",target:"_blank",rel:"noopener noreferrer"}},[e._v("View source"),r("OutboundLink")],1)]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v(" SummaryComputed(\n    sess,\n    summary,\n    global_step=None\n)\n")])])]),r("p",[e._v("Indicate that a summary was computed.")]),e._v(" "),r("h4",{attrs:{id:"args-8"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#args-8","aria-hidden":"true"}},[e._v("#")]),e._v(" Args:")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("sess")]),e._v(": A "),r("code",[e._v("Session")]),e._v(" object.")]),e._v(" "),r("li",[r("code",[e._v("summary")]),e._v(": A Summary proto, or a string holding a serialized "),r("code",[e._v("summary")]),e._v(" proto.")]),e._v(" "),r("li",[r("code",[e._v("global_step")]),e._v(": Int. global step this "),r("code",[e._v("summary")]),e._v(" is associated with. If "),r("code",[e._v("None")]),e._v(", it will try to fetch the current step.")])]),e._v(" "),r("h4",{attrs:{id:"raises-4"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#raises-4","aria-hidden":"true"}},[e._v("#")]),e._v(" Raises:")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("TypeError")]),e._v(": if 'summary' is not a Summary proto or a string.")]),e._v(" "),r("li",[r("code",[e._v("RuntimeError")]),e._v(": if the Supervisor was created without a "),r("code",[e._v("logdir")]),e._v(".")])]),e._v(" "),r("h3",{attrs:{id:"waitforstop"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#waitforstop","aria-hidden":"true"}},[e._v("#")]),e._v(" WaitForStop")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://github.com/tensorflow/tensorflow/blob/r2.0/tensorflow/python/training/supervisor.py#L881-L883",target:"_blank",rel:"noopener noreferrer"}},[e._v("View source"),r("OutboundLink")],1)]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v(" WaitForStop()\n")])])]),r("p",[e._v("Block waiting for the coordinator to stop.")]),e._v(" "),r("h3",{attrs:{id:"loop-2"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#loop-2","aria-hidden":"true"}},[e._v("#")]),e._v(" loop")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://github.com/tensorflow/tensorflow/blob/r2.0/tensorflow/python/training/supervisor.py#L782-L808",target:"_blank",rel:"noopener noreferrer"}},[e._v("View source"),r("OutboundLink")],1)]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v(" loop(\n    timer_interval_secs,\n    target,\n    args=None,\n    kwargs=None\n)\n")])])]),r("p",[e._v("Start a LooperThread that calls a function periodically.")]),e._v(" "),r("p",[e._v("If timer_interval_secs is None the thread calls target(*args, **kwargs) repeatedly. Otherwise it calls it every timer_interval_secs seconds. The thread terminates when a stop is requested.")]),e._v(" "),r("p",[e._v("The started thread is added to the list of threads managed by the supervisor so it does not need to be passed to the stop() method.")]),e._v(" "),r("h4",{attrs:{id:"args-9"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#args-9","aria-hidden":"true"}},[e._v("#")]),e._v(" Args:")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("timer_interval_secs")]),e._v(": Number. Time boundaries at which to call "),r("code",[e._v("target")]),e._v(".")]),e._v(" "),r("li",[r("code",[e._v("target")]),e._v(": A callable object.")]),e._v(" "),r("li",[r("code",[e._v("args")]),e._v(": Optional arguments to pass to "),r("code",[e._v("target")]),e._v(" when calling it.")]),e._v(" "),r("li",[r("code",[e._v("kwargs")]),e._v(": Optional keyword arguments to pass to "),r("code",[e._v("target")]),e._v(" when calling it.")])]),e._v(" "),r("h4",{attrs:{id:"returns-21"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#returns-21","aria-hidden":"true"}},[e._v("#")]),e._v(" Returns:")]),e._v(" "),r("p",[e._v("The started thread.")]),e._v(" "),r("h3",{attrs:{id:"managed-session"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#managed-session","aria-hidden":"true"}},[e._v("#")]),e._v(" managed_session")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v(" managed_session(\n    *args,\n    **kwds\n)\n")])])]),r("p",[e._v("Returns a context manager for a managed session.")]),e._v(" "),r("p",[e._v("This context manager creates and automatically recovers a session. It optionally starts the standard services that handle checkpoints and summaries. It monitors exceptions raised from the with block or from the services and stops the supervisor as needed.")]),e._v(" "),r("p",[e._v("The context manager is typically used as follows:")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v(" def train():\n  sv = tf.compat.v1.train.Supervisor(...)\n  with sv.managed_session(<master>) as sess:\n    for step in xrange(..):\n      if sv.should_stop():\n        break\n      sess.run(<my training op>)\n      ...do other things needed at each training step...\n")])])]),r("p",[e._v("An exception raised from the with block or one of the service threads is raised again when the block exits. This is done after stopping all threads and closing the session. For example, an AbortedError exception, raised in case of preemption of one of the workers in a distributed model, is raised again when the block exits.")]),e._v(" "),r("p",[e._v("If you want to retry the training loop in case of preemption you can do it as follows:")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v(" def main(...):\n  while True\n    try:\n      train()\n    except tf.errors.Aborted:\n      pass\n")])])]),r("p",[e._v("As a special case, exceptions used for control flow, such as OutOfRangeError which reports that input queues are exhausted, are not raised again from the with block: they indicate a clean termination of the training loop and are considered normal termination.")]),e._v(" "),r("h4",{attrs:{id:"args-10"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#args-10","aria-hidden":"true"}},[e._v("#")]),e._v(" Args:")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("master")]),e._v(": name of the TensorFlow "),r("code",[e._v("master")]),e._v(" to use. See the "),r("code",[e._v("tf.compat.v1.Session")]),e._v(" constructor for how this is interpreted.")]),e._v(" "),r("li",[r("code",[e._v("config")]),e._v(": Optional "),r("code",[e._v("ConfigProto")]),e._v(" proto used to "),r("code",[e._v("config")]),e._v("ure the session. Passed as-is to create the session.")]),e._v(" "),r("li",[r("code",[e._v("start_standard_services")]),e._v(": Whether to start the standard services, such as checkpoint, summary and step counter.")]),e._v(" "),r("li",[r("code",[e._v("close_summary_writer")]),e._v(": Whether to close the summary writer when closing the session. Defaults to True.")])]),e._v(" "),r("h4",{attrs:{id:"returns-22"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#returns-22","aria-hidden":"true"}},[e._v("#")]),e._v(" Returns:")]),e._v(" "),r("p",[e._v("A context manager that yields a Session restored from the latest checkpoint or initialized from scratch if not checkpoint exists. The session is closed when the with block exits.")]),e._v(" "),r("h3",{attrs:{id:"prepare-or-wait-for-session"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#prepare-or-wait-for-session","aria-hidden":"true"}},[e._v("#")]),e._v(" prepare_or_wait_for_session")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://github.com/tensorflow/tensorflow/blob/r2.0/tensorflow/python/training/supervisor.py#L690-L745",target:"_blank",rel:"noopener noreferrer"}},[e._v("View source"),r("OutboundLink")],1)]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v(" prepare_or_wait_for_session(\n    master='',\n    config=None,\n    wait_for_checkpoint=False,\n    max_wait_secs=7200,\n    start_standard_services=True\n)\n")])])]),r("p",[e._v("Make sure the model is ready to be used.")]),e._v(" "),r("p",[e._v("Create a session on 'master', recovering or initializing the model as needed, or wait for a session to be ready. If running as the chief and start_standard_service is set to True, also call the session manager to start the standard services.")]),e._v(" "),r("h4",{attrs:{id:"args-11"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#args-11","aria-hidden":"true"}},[e._v("#")]),e._v(" Args:")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("master")]),e._v(": name of the TensorFlow "),r("code",[e._v("master")]),e._v(" to use. See the "),r("code",[e._v("tf.compat.v1.Session")]),e._v(" constructor for how this is interpreted.")]),e._v(" "),r("li",[r("code",[e._v("config")]),e._v(": Optional ConfigProto proto used to "),r("code",[e._v("config")]),e._v("ure the session, which is passed as-is to create the session.")]),e._v(" "),r("li",[r("code",[e._v("wait_for_checkpoint")]),e._v(": Whether we should wait for the availability of a checkpoint before creating Session. Defaults to False.")]),e._v(" "),r("li",[r("code",[e._v("max_wait_secs")]),e._v(": Maximum time to wait for the session to become available.")]),e._v(" "),r("li",[r("code",[e._v("start_standard_services")]),e._v(": Whether to start the standard services and the queue runners.")])]),e._v(" "),r("h4",{attrs:{id:"returns-23"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#returns-23","aria-hidden":"true"}},[e._v("#")]),e._v(" Returns:")]),e._v(" "),r("p",[e._v("A Session object that can be used to drive the model.")]),e._v(" "),r("h3",{attrs:{id:"request-stop"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#request-stop","aria-hidden":"true"}},[e._v("#")]),e._v(" request_stop")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://github.com/tensorflow/tensorflow/blob/r2.0/tensorflow/python/training/supervisor.py#L849-L859",target:"_blank",rel:"noopener noreferrer"}},[e._v("View source"),r("OutboundLink")],1)]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v(" request_stop(ex=None)\n")])])]),r("p",[e._v("Request that the coordinator stop the threads.")]),e._v(" "),r("p",[e._v("See Coordinator.request_stop().")]),e._v(" "),r("h4",{attrs:{id:"args-12"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#args-12","aria-hidden":"true"}},[e._v("#")]),e._v(" Args:")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("ex")]),e._v(": Optional "),r("code",[e._v("Exception")]),e._v(", or Python "),r("code",[e._v("ex")]),e._v("c_info tuple as returned by "),r("code",[e._v("sys.exc_info")]),e._v("(). If this is the first call to "),r("code",[e._v("request_stop")]),e._v("() the corresponding "),r("code",[e._v("ex")]),e._v("ception is recorded and re-raised from "),r("code",[e._v("join")]),e._v("().")])]),e._v(" "),r("h3",{attrs:{id:"should-stop"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#should-stop","aria-hidden":"true"}},[e._v("#")]),e._v(" should_stop")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://github.com/tensorflow/tensorflow/blob/r2.0/tensorflow/python/training/supervisor.py#L861-L869",target:"_blank",rel:"noopener noreferrer"}},[e._v("View source"),r("OutboundLink")],1)]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v(" should_stop()\n")])])]),r("p",[e._v("Check if the coordinator was told to stop.")]),e._v(" "),r("p",[e._v("See Coordinator.should_stop().")]),e._v(" "),r("h4",{attrs:{id:"returns-24"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#returns-24","aria-hidden":"true"}},[e._v("#")]),e._v(" Returns:")]),e._v(" "),r("p",[e._v("True if the coordinator was told to stop, False otherwise.")]),e._v(" "),r("h3",{attrs:{id:"start-queue-runners"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#start-queue-runners","aria-hidden":"true"}},[e._v("#")]),e._v(" start_queue_runners")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://github.com/tensorflow/tensorflow/blob/r2.0/tensorflow/python/training/supervisor.py#L747-L780",target:"_blank",rel:"noopener noreferrer"}},[e._v("View source"),r("OutboundLink")],1)]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v(" start_queue_runners(\n    sess,\n    queue_runners=None\n)\n")])])]),r("p",[e._v("Start threads for QueueRunners.")]),e._v(" "),r("p",[e._v("Note that the queue runners collected in the graph key QUEUE_RUNNERS are already started automatically when you create a session with the supervisor, so unless you have non-collected queue runners to start you do not need to call this explicitly.")]),e._v(" "),r("h4",{attrs:{id:"args-13"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#args-13","aria-hidden":"true"}},[e._v("#")]),e._v(" Args:")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("sess")]),e._v(": A "),r("code",[e._v("Session")]),e._v(".")]),e._v(" "),r("li",[r("code",[e._v("queue_runners")]),e._v(": A list of "),r("code",[e._v("QueueRunners")]),e._v(". If not specified, we'll use the list of queue runners gathered in the graph under the key "),r("code",[e._v("GraphKeys.QUEUE_RUNNERS")]),e._v(".")])]),e._v(" "),r("h4",{attrs:{id:"returns-25"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#returns-25","aria-hidden":"true"}},[e._v("#")]),e._v(" Returns:")]),e._v(" "),r("p",[e._v("The list of threads started for the QueueRunners.")]),e._v(" "),r("h4",{attrs:{id:"raises-5"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#raises-5","aria-hidden":"true"}},[e._v("#")]),e._v(" Raises:")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("RuntimeError")]),e._v(": If called with eager execution enabled.")])]),e._v(" "),r("h4",{attrs:{id:"eager-compatibility-3"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#eager-compatibility-3","aria-hidden":"true"}},[e._v("#")]),e._v(" Eager Compatibility")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://www.tensorflow.org/api_docs/python/tf/data",target:"_blank",rel:"noopener noreferrer"}},[e._v("tf.data"),r("OutboundLink")],1),e._v("Queues are not compatible with eager execution. To ingest data when eager execution is enabled, use the  API.")]),e._v(" "),r("h3",{attrs:{id:"start-standard-services"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#start-standard-services","aria-hidden":"true"}},[e._v("#")]),e._v(" start_standard_services")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://github.com/tensorflow/tensorflow/blob/r2.0/tensorflow/python/training/supervisor.py#L638-L688",target:"_blank",rel:"noopener noreferrer"}},[e._v("View source"),r("OutboundLink")],1)]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v(" start_standard_services(sess)\n")])])]),r("p",[e._v("Start the standard services for 'sess'.")]),e._v(" "),r("p",[e._v("This starts services in the background. The services started depend on the parameters to the constructor and may include:")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("A")]),e._v(" "),r("code",[e._v("S")]),e._v("u"),r("code",[e._v("m")]),e._v("m"),r("code",[e._v("a")]),e._v("r"),r("code",[e._v("y")]),e._v(" "),r("code",[e._v("t")]),e._v("h"),r("code",[e._v("r")]),e._v("e"),r("code",[e._v("a")]),e._v("d"),r("code"),e._v("c"),r("code",[e._v("o")]),e._v("m"),r("code",[e._v("p")]),e._v("u"),r("code",[e._v("t")]),e._v("i"),r("code",[e._v("n")]),e._v("g"),r("code"),e._v("s"),r("code",[e._v("u")]),e._v("m"),r("code",[e._v("m")]),e._v("a"),r("code",[e._v("r")]),e._v("i"),r("code",[e._v("e")]),e._v("s"),r("code"),e._v("e"),r("code",[e._v("v")]),e._v("e"),r("code",[e._v("r")]),e._v("y"),r("code"),e._v("s"),r("code",[e._v("a")]),e._v("v"),r("code",[e._v("e")]),r("em",[r("code",[e._v("s")]),e._v("u"),r("code",[e._v("m")]),e._v("m"),r("code",[e._v("a")]),e._v("r"),r("code",[e._v("i")]),e._v("e"),r("code",[e._v("s")])]),r("code",[e._v("s")]),e._v("e"),r("code",[e._v("c")]),e._v("s"),r("code",[e._v(".")])]),e._v(" "),r("li",[r("code",[e._v("A")]),e._v(" "),r("code",[e._v("C")]),e._v("h"),r("code",[e._v("e")]),e._v("c"),r("code",[e._v("k")]),e._v("p"),r("code",[e._v("o")]),e._v("i"),r("code",[e._v("n")]),e._v("t"),r("code"),e._v("t"),r("code",[e._v("h")]),e._v("r"),r("code",[e._v("e")]),e._v("a"),r("code",[e._v("d")]),e._v(" "),r("code",[e._v("s")]),e._v("a"),r("code",[e._v("v")]),e._v("i"),r("code",[e._v("n")]),e._v("g"),r("code"),e._v("t"),r("code",[e._v("h")]),e._v("e"),r("code"),e._v("m"),r("code",[e._v("o")]),e._v("d"),r("code",[e._v("e")]),e._v("l"),r("code"),e._v("e"),r("code",[e._v("v")]),e._v("e"),r("code",[e._v("r")]),e._v("y"),r("code"),e._v("s"),r("code",[e._v("a")]),e._v("v"),r("code",[e._v("e")]),r("em",[r("code",[e._v("m")]),e._v("o"),r("code",[e._v("d")]),e._v("e"),r("code",[e._v("l")])]),r("code",[e._v("s")]),e._v("e"),r("code",[e._v("c")]),e._v("s"),r("code",[e._v(".")])]),e._v(" "),r("li",[r("code",[e._v("A")]),e._v(" "),r("code",[e._v("S")]),e._v("t"),r("code",[e._v("e")]),e._v("p"),r("code",[e._v("C")]),e._v("o"),r("code",[e._v("u")]),e._v("n"),r("code",[e._v("t")]),e._v("e"),r("code",[e._v("r")]),e._v(" "),r("code",[e._v("t")]),e._v("h"),r("code",[e._v("r")]),e._v("e"),r("code",[e._v("a")]),e._v("d"),r("code"),e._v("m"),r("code",[e._v("e")]),e._v("a"),r("code",[e._v("s")]),e._v("u"),r("code",[e._v("r")]),e._v("e"),r("code"),e._v("s"),r("code",[e._v("t")]),e._v("e"),r("code",[e._v("p")]),e._v(" "),r("code",[e._v("t")]),e._v("i"),r("code",[e._v("m")]),e._v("e"),r("code",[e._v(".")])])]),e._v(" "),r("h4",{attrs:{id:"args-14"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#args-14","aria-hidden":"true"}},[e._v("#")]),e._v(" Args:")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("sess")]),e._v(": A Session.")])]),e._v(" "),r("h4",{attrs:{id:"returns-26"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#returns-26","aria-hidden":"true"}},[e._v("#")]),e._v(" Returns:")]),e._v(" "),r("p",[e._v("A list of threads that are running the standard services. You can use the Supervisor's Coordinator to join these threads with: sv.coord.Join()")]),e._v(" "),r("h4",{attrs:{id:"raises-6"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#raises-6","aria-hidden":"true"}},[e._v("#")]),e._v(" Raises:")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("RuntimeError")]),e._v(": If called with a non-chief Supervisor.")]),e._v(" "),r("li",[r("code",[e._v("ValueError")]),e._v(": If not "),r("code",[e._v("logdir")]),e._v(" was passed to the constructor as the services need a log directory.")])]),e._v(" "),r("h3",{attrs:{id:"stop-2"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#stop-2","aria-hidden":"true"}},[e._v("#")]),e._v(" stop")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://github.com/tensorflow/tensorflow/blob/r2.0/tensorflow/python/training/supervisor.py#L810-L847",target:"_blank",rel:"noopener noreferrer"}},[e._v("View source"),r("OutboundLink")],1)]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v(" stop(\n    threads=None,\n    close_summary_writer=True,\n    ignore_live_threads=False\n)\n")])])]),r("p",[e._v("Stop the services and the coordinator.")]),e._v(" "),r("p",[e._v("This does not close the session.")]),e._v(" "),r("h4",{attrs:{id:"args-15"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#args-15","aria-hidden":"true"}},[e._v("#")]),e._v(" Args:")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("threads")]),e._v(": Optional list of "),r("code",[e._v("threads")]),e._v(" to join with the coordinator. If "),r("code",[e._v("None")]),e._v(", defaults to the "),r("code",[e._v("threads")]),e._v(" running the standard services, the "),r("code",[e._v("threads")]),e._v(" started for "),r("code",[e._v("QueueRunners")]),e._v(", and the "),r("code",[e._v("threads")]),e._v(" started by the "),r("code",[e._v("loop")]),e._v("() method. To wait on additional "),r("code",[e._v("threads")]),e._v(", pass the list in this parameter.")]),e._v(" "),r("li",[r("code",[e._v("close_summary_writer")]),e._v(": Whether to close the "),r("code",[e._v("summary_writer")]),e._v(". Defaults to "),r("code",[e._v("True")]),e._v(" if the summary writer was created by the supervisor, "),r("code",[e._v("False")]),e._v(" otherwise.")]),e._v(" "),r("li",[r("code",[e._v("ignore_live_threads")]),e._v(": If "),r("code",[e._v("True")]),e._v(" ignores "),r("code",[e._v("threads")]),e._v(" that remain running after a grace period when joining "),r("code",[e._v("threads")]),e._v(" via the coordinator, instead of raising a RuntimeError.")])]),e._v(" "),r("h3",{attrs:{id:"stop-on-exception"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#stop-on-exception","aria-hidden":"true"}},[e._v("#")]),e._v(" stop_on_exception")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://github.com/tensorflow/tensorflow/blob/r2.0/tensorflow/python/training/supervisor.py#L871-L879",target:"_blank",rel:"noopener noreferrer"}},[e._v("View source"),r("OutboundLink")],1)]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v(" stop_on_exception()\n")])])]),r("p",[e._v("Context handler to stop the supervisor when an exception is raised.")]),e._v(" "),r("p",[e._v("See Coordinator.stop_on_exception().")]),e._v(" "),r("h4",{attrs:{id:"returns-27"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#returns-27","aria-hidden":"true"}},[e._v("#")]),e._v(" Returns:")]),e._v(" "),r("p",[e._v("A context handler.")]),e._v(" "),r("h3",{attrs:{id:"summary-computed"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#summary-computed","aria-hidden":"true"}},[e._v("#")]),e._v(" summary_computed")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://github.com/tensorflow/tensorflow/blob/r2.0/tensorflow/python/training/supervisor.py#L885-L902",target:"_blank",rel:"noopener noreferrer"}},[e._v("View source"),r("OutboundLink")],1)]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v(" summary_computed(\n    sess,\n    summary,\n    global_step=None\n)\n")])])]),r("p",[e._v("Indicate that a summary was computed.")]),e._v(" "),r("h4",{attrs:{id:"args-16"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#args-16","aria-hidden":"true"}},[e._v("#")]),e._v(" Args:")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("sess")]),e._v(": A "),r("code",[e._v("Session")]),e._v(" object.")]),e._v(" "),r("li",[r("code",[e._v("summary")]),e._v(": A Summary proto, or a string holding a serialized "),r("code",[e._v("summary")]),e._v(" proto.")]),e._v(" "),r("li",[r("code",[e._v("global_step")]),e._v(": Int. global step this "),r("code",[e._v("summary")]),e._v(" is associated with. If "),r("code",[e._v("None")]),e._v(", it will try to fetch the current step.")])]),e._v(" "),r("h4",{attrs:{id:"raises-7"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#raises-7","aria-hidden":"true"}},[e._v("#")]),e._v(" Raises:")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("TypeError")]),e._v(": if 'summary' is not a Summary proto or a string.")]),e._v(" "),r("li",[r("code",[e._v("RuntimeError")]),e._v(": if the Supervisor was created without a "),r("code",[e._v("logdir")]),e._v(".")])]),e._v(" "),r("h3",{attrs:{id:"wait-for-stop"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#wait-for-stop","aria-hidden":"true"}},[e._v("#")]),e._v(" wait_for_stop")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://github.com/tensorflow/tensorflow/blob/r2.0/tensorflow/python/training/supervisor.py#L881-L883",target:"_blank",rel:"noopener noreferrer"}},[e._v("View source"),r("OutboundLink")],1)]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v(" wait_for_stop()\n")])])]),r("p",[e._v("Block waiting for the coordinator to stop.")]),e._v(" "),r("h2",{attrs:{id:"class-members"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#class-members","aria-hidden":"true"}},[e._v("#")]),e._v(" Class Members")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("USE_DEFAULT = 0")])])])])}),[],!1,null,null,null);t.default=a.exports}}]);