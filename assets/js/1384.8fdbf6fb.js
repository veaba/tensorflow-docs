(window.webpackJsonp=window.webpackJsonp||[]).push([[1384],{1574:function(e,a,t){"use strict";t.r(a);var s=t(0),r=Object(s.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h2",{attrs:{id:"class-sparsefeature"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#class-sparsefeature","aria-hidden":"true"}},[e._v("#")]),e._v(" Class SparseFeature")]),e._v(" "),t("p",[e._v("Configuration for parsing a sparse input feature from an Example.")]),e._v(" "),t("h3",{attrs:{id:"aliases"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#aliases","aria-hidden":"true"}},[e._v("#")]),e._v(" Aliases:")]),e._v(" "),t("ul",[t("li",[e._v("Class "),t("code",[e._v("tf.compat.v1.SparseFeature")])]),e._v(" "),t("li",[e._v("Class "),t("code",[e._v("tf.compat.v1.io.SparseFeature")])]),e._v(" "),t("li",[e._v("Class "),t("code",[e._v("tf.compat.v2.io.SparseFeature")])])]),e._v(" "),t("p",[e._v("Note, preferably use VarLenFeature (possibly in combination with a SequenceExample) in order to parse out SparseTensors instead of SparseFeature due to its simplicity.")]),e._v(" "),t("p",[e._v("Closely mimicking the SparseTensor that will be obtained by parsing an Example with a SparseFeature config, a SparseFeature contains a")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("value_key")]),e._v(": The name of key for a "),t("code",[e._v("Feature")]),e._v(" in the "),t("code",[e._v("Example")]),e._v(" whose parsed "),t("code",[e._v("Tensor")]),e._v(" will be the resulting "),t("code",[e._v("SparseTensor.values")]),e._v(".")]),e._v(" "),t("li",[t("code",[e._v("index_key")]),e._v(": A l"),t("code",[e._v("i")]),e._v("st of names - one for each "),t("code",[e._v("dim")]),e._v("ens"),t("code",[e._v("i")]),e._v("on "),t("code",[e._v("i")]),e._v("n the result"),t("code",[e._v("i")]),e._v("ng "),t("code",[e._v("SparseTensor")]),e._v(" whose "),t("code",[e._v("i")]),e._v("nd"),t("code",[e._v("i")]),e._v("ces["),t("code",[e._v("i")]),e._v("]["),t("code",[e._v("dim")]),e._v("] "),t("code",[e._v("i")]),e._v("nd"),t("code",[e._v("i")]),e._v("cat"),t("code",[e._v("i")]),e._v("ng the pos"),t("code",[e._v("i")]),e._v("t"),t("code",[e._v("i")]),e._v("on of the "),t("code",[e._v("i")]),e._v("-th value "),t("code",[e._v("i")]),e._v("n the "),t("code",[e._v("dim")]),e._v(" "),t("code",[e._v("dim")]),e._v("ens"),t("code",[e._v("i")]),e._v("on w"),t("code",[e._v("i")]),e._v("ll be equal to the "),t("code",[e._v("i")]),e._v("-th value "),t("code",[e._v("i")]),e._v("n the "),t("code",[e._v("Feature")]),e._v(" w"),t("code",[e._v("i")]),e._v("th key named "),t("code",[e._v("index_key")]),e._v("["),t("code",[e._v("dim")]),e._v("] "),t("code",[e._v("i")]),e._v("n the "),t("code",[e._v("Example")]),e._v(".")]),e._v(" "),t("li",[t("code",[e._v("size")]),e._v(": A l"),t("code",[e._v("i")]),e._v("st of "),t("code",[e._v("i")]),e._v("nts for the result"),t("code",[e._v("i")]),e._v("ng "),t("code",[e._v("SparseTensor")]),e._v(".dense_shape.")])]),e._v(" "),t("p",[e._v("For example, we can represent the following 2D SparseTensor")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v(" SparseTensor(indices=[[3, 1], [20, 0]],\n             values=[0.5, -1.0]\n             dense_shape=[100, 3])\n")])])]),t("p",[e._v("with an Example input proto")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v(' features {\n  feature { key: "val" value { float_list { value: [ 0.5, -1.0 ] } } }\n  feature { key: "ix0" value { int64_list { value: [ 3, 20 ] } } }\n  feature { key: "ix1" value { int64_list { value: [ 1, 0 ] } } }\n}\n')])])]),t("p",[e._v("and SparseFeature config with 2 index_keys")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v(' SparseFeature(index_key=["ix0", "ix1"],\n              value_key="val",\n              dtype=tf.float32,\n              size=[100, 3])\n')])])]),t("h4",{attrs:{id:"fields"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#fields","aria-hidden":"true"}},[e._v("#")]),e._v(" Fields:")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("index_key")]),e._v(": A single string name or a list of string names of index features. For each key the underlying feature's type must be "),t("code",[e._v("int64")]),e._v(" and its length must always match that of the "),t("code",[e._v("value_key")]),e._v(" feature. To represent "),t("code",[e._v("SparseTensor")]),e._v("s with a "),t("code",[e._v("dense_shape")]),e._v(" of "),t("code",[e._v("rank")]),e._v(" higher than 1 a list of length "),t("code",[e._v("rank")]),e._v(" should be used.")]),e._v(" "),t("li",[t("code",[e._v("value_key")]),e._v(": Name of value feature. The underlying feature's type must be "),t("code",[e._v("dtype")]),e._v(" and its length must always match that of all the "),t("code",[e._v("index_key")]),e._v("s' features.")]),e._v(" "),t("li",[t("code",[e._v("dtype")]),e._v(": Data type of the "),t("code",[e._v("value_key")]),e._v(" feature.")])]),e._v(" "),t("h2",{attrs:{id:"new"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#new","aria-hidden":"true"}},[e._v("#")]),e._v(" "),t("strong",[e._v("new")])]),e._v(" "),t("p",[t("a",{attrs:{href:"https://github.com/tensorflow/tensorflow/blob/r2.0/tensorflow/python/ops/parsing_ops.py#L130-L132",target:"_blank",rel:"noopener noreferrer"}},[e._v("View source"),t("OutboundLink")],1)]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v(" @staticmethod\n__new__(\n    cls,\n    index_key,\n    value_key,\n    dtype,\n    size,\n    already_sorted=False\n)\n")])])]),t("p",[e._v("Create new instance of SparseFeature(index_key, value_key, dtype, size, already_sorted)")]),e._v(" "),t("h2",{attrs:{id:"properties"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#properties","aria-hidden":"true"}},[e._v("#")]),e._v(" Properties")]),e._v(" "),t("h3",{attrs:{id:"index-key"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#index-key","aria-hidden":"true"}},[e._v("#")]),e._v(" index_key")]),e._v(" "),t("h3",{attrs:{id:"value-key"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#value-key","aria-hidden":"true"}},[e._v("#")]),e._v(" value_key")]),e._v(" "),t("h3",{attrs:{id:"dtype"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dtype","aria-hidden":"true"}},[e._v("#")]),e._v(" dtype")]),e._v(" "),t("h3",{attrs:{id:"size"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#size","aria-hidden":"true"}},[e._v("#")]),e._v(" size")]),e._v(" "),t("h3",{attrs:{id:"already-sorted"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#already-sorted","aria-hidden":"true"}},[e._v("#")]),e._v(" already_sorted")])])}),[],!1,null,null,null);a.default=r.exports}}]);