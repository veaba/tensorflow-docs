(window.webpackJsonp=window.webpackJsonp||[]).push([[825],{1013:function(e,t,_){"use strict";_.r(t);var o=_(0),v=Object(o.a)({},(function(){var e=this,t=e.$createElement,_=e._self._c||t;return _("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[_("h2",{attrs:{id:"class-stuboutfortesting"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#class-stuboutfortesting","aria-hidden":"true"}},[e._v("#")]),e._v(" Class StubOutForTesting")]),e._v(" "),_("p",[e._v("Support class for stubbing methods out for unit testing.")]),e._v(" "),_("h4",{attrs:{id:"sample-usage"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#sample-usage","aria-hidden":"true"}},[e._v("#")]),e._v(" Sample Usage:")]),e._v(" "),_("p",[e._v("You want os.path.exists() to always return true during testing.")]),e._v(" "),_("p",[e._v("stubs = StubOutForTesting() stubs.Set(os.path, 'exists', lambda x: 1) ... stubs.CleanUp()")]),e._v(" "),_("p",[e._v("The above changes os.path.exists into a lambda that returns 1. Once the ... part of the code finishes, the CleanUp() looks up the old value of os.path.exists and restores it.")]),e._v(" "),_("h2",{attrs:{id:"init"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#init","aria-hidden":"true"}},[e._v("#")]),e._v(" "),_("strong",[e._v("init")])]),e._v(" "),_("p",[_("a",{attrs:{href:"https://github.com/tensorflow/tensorflow/blob/r2.0/tensorflow/python/platform/googletest.py#L132-L134",target:"_blank",rel:"noopener noreferrer"}},[e._v("View source"),_("OutboundLink")],1)]),e._v(" "),_("div",{staticClass:"language- extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[e._v(" __init__()\n")])])]),_("p",[e._v("Initialize self. See help(type(self)) for accurate signature.")]),e._v(" "),_("h2",{attrs:{id:"methods"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#methods","aria-hidden":"true"}},[e._v("#")]),e._v(" Methods")]),e._v(" "),_("h3",{attrs:{id:"cleanup"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#cleanup","aria-hidden":"true"}},[e._v("#")]),e._v(" CleanUp")]),e._v(" "),_("p",[_("a",{attrs:{href:"https://github.com/tensorflow/tensorflow/blob/r2.0/tensorflow/python/platform/googletest.py#L151-L154",target:"_blank",rel:"noopener noreferrer"}},[e._v("View source"),_("OutboundLink")],1)]),e._v(" "),_("div",{staticClass:"language- extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[e._v(" CleanUp()\n")])])]),_("p",[e._v("Undoes all SmartSet() & Set() calls, restoring original definitions.")]),e._v(" "),_("h3",{attrs:{id:"set"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#set","aria-hidden":"true"}},[e._v("#")]),e._v(" Set")]),e._v(" "),_("p",[_("a",{attrs:{href:"https://github.com/tensorflow/tensorflow/blob/r2.0/tensorflow/python/platform/googletest.py#L233-L257",target:"_blank",rel:"noopener noreferrer"}},[e._v("View source"),_("OutboundLink")],1)]),e._v(" "),_("div",{staticClass:"language- extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[e._v(" Set(\n    parent,\n    child_name,\n    new_child\n)\n")])])]),_("p",[e._v("In parent, replace child_name's old definition with new_child.")]),e._v(" "),_("p",[e._v("The parent could be a module when the child is a function at module scope. Or the parent could be a class when a class' method is being replaced. The named child is set to new_child, while the prior definition is saved away for later, when UnsetAll() is called.")]),e._v(" "),_("p",[e._v("This method supports the case where child_name is a staticmethod or a classmethod of parent.")]),e._v(" "),_("h4",{attrs:{id:"args"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#args","aria-hidden":"true"}},[e._v("#")]),e._v(" Args:")]),e._v(" "),_("ul",[_("li",[_("code",[e._v("parent")]),e._v(": The context in which the attribute child_name is to be changed.")]),e._v(" "),_("li",[_("code",[e._v("child_name")]),e._v(": The name of the attribute to change.")]),e._v(" "),_("li",[_("code",[e._v("new_child")]),e._v(": The new value of the attribute.")])]),e._v(" "),_("h3",{attrs:{id:"smartset"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#smartset","aria-hidden":"true"}},[e._v("#")]),e._v(" SmartSet")]),e._v(" "),_("p",[_("a",{attrs:{href:"https://github.com/tensorflow/tensorflow/blob/r2.0/tensorflow/python/platform/googletest.py#L156-L217",target:"_blank",rel:"noopener noreferrer"}},[e._v("View source"),_("OutboundLink")],1)]),e._v(" "),_("div",{staticClass:"language- extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[e._v(" SmartSet(\n    obj,\n    attr_name,\n    new_attr\n)\n")])])]),_("p",[e._v("Replace obj.attr_name with new_attr.")]),e._v(" "),_("p",[e._v("This method is smart and works at the module, class, and instance level while preserving proper inheritance. It will not stub out C types however unless that has been explicitly allowed by the type.")]),e._v(" "),_("p",[e._v("This method supports the case where attr_name is a staticmethod or a classmethod of obj.")]),e._v(" "),_("h4",{attrs:{id:"notes"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#notes","aria-hidden":"true"}},[e._v("#")]),e._v(" Notes:")]),e._v(" "),_("ul",[_("li",[_("code",[e._v("I")]),e._v("f"),_("code"),e._v("o"),_("code",[e._v("b")]),e._v("j"),_("code"),e._v("i"),_("code",[e._v("s")]),e._v(" "),_("code",[e._v("a")]),e._v("n"),_("code"),e._v("i"),_("code",[e._v("n")]),e._v("s"),_("code",[e._v("t")]),e._v("a"),_("code",[e._v("n")]),e._v("c"),_("code",[e._v("e")]),e._v(","),_("code"),e._v("t"),_("code",[e._v("h")]),e._v("e"),_("code",[e._v("n")]),e._v(" "),_("code",[e._v("i")]),e._v("t"),_("code"),e._v("i"),_("code",[e._v("s")]),e._v(" "),_("code",[e._v("i")]),e._v("t"),_("code",[e._v("s")]),e._v(" "),_("code",[e._v("c")]),e._v("l"),_("code",[e._v("a")]),e._v("s"),_("code",[e._v("s")]),e._v(" "),_("code",[e._v("t")]),e._v("h"),_("code",[e._v("a")]),e._v("t"),_("code"),e._v("w"),_("code",[e._v("i")]),e._v("l"),_("code",[e._v("l")]),e._v(" "),_("code",[e._v("a")]),e._v("c"),_("code",[e._v("t")]),e._v("u"),_("code",[e._v("a")]),e._v("l"),_("code",[e._v("l")]),e._v("y"),_("code"),e._v("b"),_("code",[e._v("e")]),e._v(" "),_("code",[e._v("s")]),e._v("t"),_("code",[e._v("u")]),e._v("b"),_("code",[e._v("b")]),e._v("e"),_("code",[e._v("d")]),e._v("."),_("code"),e._v("N"),_("code",[e._v("o")]),e._v("t"),_("code",[e._v("e")]),e._v(" "),_("code",[e._v("t")]),e._v("h"),_("code",[e._v("a")]),e._v("t"),_("code"),e._v("t"),_("code",[e._v("h")]),e._v("e"),_("code"),e._v("m"),_("code",[e._v("e")]),e._v("t"),_("code",[e._v("h")]),e._v("o"),_("code",[e._v("d")]),e._v(" "),_("code",[e._v("S")]),e._v("e"),_("code",[e._v("t")]),e._v("("),_("code",[e._v(")")]),e._v(" "),_("code",[e._v("d")]),e._v("o"),_("code",[e._v("e")]),e._v("s"),_("code"),e._v("n"),_("code",[e._v("o")]),e._v("t"),_("code"),e._v("d"),_("code",[e._v("o")]),e._v(" "),_("code",[e._v("t")]),e._v("h"),_("code",[e._v("a")]),e._v("t"),_("code",[e._v(":")]),e._v(" "),_("code",[e._v("i")]),e._v("f"),_("code"),e._v("o"),_("code",[e._v("b")]),e._v("j"),_("code"),e._v("i"),_("code",[e._v("s")]),e._v(" "),_("code",[e._v("a")]),e._v("n"),_("code"),e._v("i"),_("code",[e._v("n")]),e._v("s"),_("code",[e._v("t")]),e._v("a"),_("code",[e._v("n")]),e._v("c"),_("code",[e._v("e")]),e._v(","),_("code"),e._v("i"),_("code",[e._v("t")]),e._v(" "),_("code",[e._v("(")]),e._v("a"),_("code",[e._v("n")]),e._v("d"),_("code"),e._v("n"),_("code",[e._v("o")]),e._v("t"),_("code"),e._v("i"),_("code",[e._v("t")]),e._v("s"),_("code"),e._v("c"),_("code",[e._v("l")]),e._v("a"),_("code",[e._v("s")]),e._v("s"),_("code",[e._v(")")]),e._v(" "),_("code",[e._v("w")]),e._v("i"),_("code",[e._v("l")]),e._v("l"),_("code"),e._v("b"),_("code",[e._v("e")]),e._v(" "),_("code",[e._v("s")]),e._v("t"),_("code",[e._v("u")]),e._v("b"),_("code",[e._v("b")]),e._v("e"),_("code",[e._v("d")]),e._v(".``")]),e._v(" "),_("li",[_("code",[e._v("T")]),e._v("h"),_("code",[e._v("e")]),e._v(" "),_("code",[e._v("s")]),e._v("t"),_("code",[e._v("u")]),e._v("b"),_("code",[e._v("b")]),e._v("i"),_("code",[e._v("n")]),e._v("g"),_("code"),e._v("i"),_("code",[e._v("s")]),e._v(" "),_("code",[e._v("u")]),e._v("s"),_("code",[e._v("i")]),e._v("n"),_("code",[e._v("g")]),e._v(" "),_("code",[e._v("t")]),e._v("h"),_("code",[e._v("e")]),e._v(" "),_("code",[e._v("b")]),e._v("u"),_("code",[e._v("i")]),e._v("l"),_("code",[e._v("t")]),e._v("i"),_("code",[e._v("n")]),e._v(" "),_("code",[e._v("g")]),e._v("e"),_("code",[e._v("t")]),e._v("a"),_("code",[e._v("t")]),e._v("t"),_("code",[e._v("r")]),e._v(" "),_("code",[e._v("a")]),e._v("n"),_("code",[e._v("d")]),e._v(" "),_("code",[e._v("s")]),e._v("e"),_("code",[e._v("t")]),e._v("a"),_("code",[e._v("t")]),e._v("t"),_("code",[e._v("r")]),e._v("."),_("code"),e._v("S"),_("code",[e._v("o")]),e._v(","),_("code"),e._v("t"),_("code",[e._v("h")]),e._v("e"),_("code"),e._v("g"),_("code",[e._v("e")]),e._v("t"),_("code"),e._v("a"),_("code",[e._v("n")]),e._v("d"),_("code"),e._v("s"),_("code",[e._v("e")]),e._v("t"),_("code"),e._v("w"),_("code",[e._v("i")]),e._v("l"),_("code",[e._v("l")]),e._v(" "),_("code",[e._v("b")]),e._v("e"),_("code"),e._v("c"),_("code",[e._v("a")]),e._v("l"),_("code",[e._v("l")]),e._v("e"),_("code",[e._v("d")]),e._v(" "),_("code",[e._v("w")]),e._v("h"),_("code",[e._v("e")]),e._v("n"),_("code"),e._v("s"),_("code",[e._v("t")]),e._v("u"),_("code",[e._v("b")]),e._v("b"),_("code",[e._v("i")]),e._v("n"),_("code",[e._v("g")]),e._v(" "),_("code",[e._v("(")]),e._v("T"),_("code",[e._v("O")]),e._v("D"),_("code",[e._v("O")]),e._v(":"),_("code"),e._v("A"),_("code"),e._v("b"),_("code",[e._v("e")]),e._v("t"),_("code",[e._v("t")]),e._v("e"),_("code",[e._v("r")]),e._v(" "),_("code",[e._v("i")]),e._v("d"),_("code",[e._v("e")]),e._v("a"),_("code"),e._v("w"),_("code",[e._v("o")]),e._v("u"),_("code",[e._v("l")]),e._v("d"),_("code"),e._v("p"),_("code",[e._v("r")]),e._v("o"),_("code",[e._v("b")]),e._v("a"),_("code",[e._v("b")]),e._v("l"),_("code",[e._v("y")]),e._v(" "),_("code",[e._v("b")]),e._v("e"),_("code"),e._v("t"),_("code",[e._v("o")]),e._v(" "),_("code",[e._v("m")]),e._v("a"),_("code",[e._v("n")]),e._v("i"),_("code",[e._v("p")]),e._v("u"),_("code",[e._v("l")]),e._v("a"),_("code",[e._v("t")]),e._v("e"),_("code"),e._v("o"),_("code",[e._v("b")]),e._v("j"),_("code",[e._v(".")]),e._v("d"),_("code",[e._v("i")]),e._v("c"),_("code",[e._v("t")]),e._v(" "),_("code",[e._v("i")]),e._v("n"),_("code",[e._v("s")]),e._v("t"),_("code",[e._v("e")]),e._v("a"),_("code",[e._v("d")]),e._v(" "),_("code",[e._v("o")]),e._v("f"),_("code"),e._v("g"),_("code",[e._v("e")]),e._v("t"),_("code",[e._v("a")]),e._v("t"),_("code",[e._v("t")]),e._v("r"),_("code",[e._v("(")]),e._v(")"),_("code"),e._v("a"),_("code",[e._v("n")]),e._v("d"),_("code"),e._v("s"),_("code",[e._v("e")]),e._v("t"),_("code",[e._v("a")]),e._v("t"),_("code",[e._v("t")]),e._v("r"),_("code",[e._v("(")]),e._v(")"),_("code",[e._v(")")]),e._v(".``")])]),e._v(" "),_("h4",{attrs:{id:"args-2"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#args-2","aria-hidden":"true"}},[e._v("#")]),e._v(" Args:")]),e._v(" "),_("ul",[_("li",[_("code",[e._v("obj")]),e._v(": The "),_("code",[e._v("obj")]),e._v("ect whose attributes we want to modify.")]),e._v(" "),_("li",[_("code",[e._v("attr_name")]),e._v(": The name of the attribute to modify.")]),e._v(" "),_("li",[_("code",[e._v("new_attr")]),e._v(": The new value for the attribute.")])]),e._v(" "),_("h4",{attrs:{id:"raises"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#raises","aria-hidden":"true"}},[e._v("#")]),e._v(" Raises:")]),e._v(" "),_("ul",[_("li",[_("code",[e._v("AttributeError")]),e._v(": If the attribute cannot be found.")])]),e._v(" "),_("h3",{attrs:{id:"smartunsetall"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#smartunsetall","aria-hidden":"true"}},[e._v("#")]),e._v(" SmartUnsetAll")]),e._v(" "),_("p",[_("a",{attrs:{href:"https://github.com/tensorflow/tensorflow/blob/r2.0/tensorflow/python/platform/googletest.py#L219-L231",target:"_blank",rel:"noopener noreferrer"}},[e._v("View source"),_("OutboundLink")],1)]),e._v(" "),_("div",{staticClass:"language- extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[e._v(" SmartUnsetAll()\n")])])]),_("p",[e._v("Reverses SmartSet() calls, restoring things to original definitions.")]),e._v(" "),_("p",[e._v("This method is automatically called when the StubOutForTesting() object is deleted; there is no need to call it explicitly.")]),e._v(" "),_("p",[e._v("It is okay to call SmartUnsetAll() repeatedly, as later calls have no effect if no SmartSet() calls have been made.")]),e._v(" "),_("h3",{attrs:{id:"unsetall"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#unsetall","aria-hidden":"true"}},[e._v("#")]),e._v(" UnsetAll")]),e._v(" "),_("p",[_("a",{attrs:{href:"https://github.com/tensorflow/tensorflow/blob/r2.0/tensorflow/python/platform/googletest.py#L259-L272",target:"_blank",rel:"noopener noreferrer"}},[e._v("View source"),_("OutboundLink")],1)]),e._v(" "),_("div",{staticClass:"language- extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[e._v(" UnsetAll()\n")])])]),_("p",[e._v("Reverses Set() calls, restoring things to their original definitions.")]),e._v(" "),_("p",[e._v("This method is automatically called when the StubOutForTesting() object is deleted; there is no need to call it explicitly.")]),e._v(" "),_("p",[e._v("It is okay to call UnsetAll() repeatedly, as later calls have no effect if no Set() calls have been made.")]),e._v(" "),_("h3",{attrs:{id:"enter"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#enter","aria-hidden":"true"}},[e._v("#")]),e._v(" "),_("strong",[e._v("enter")])]),e._v(" "),_("p",[_("a",{attrs:{href:"https://github.com/tensorflow/tensorflow/blob/r2.0/tensorflow/python/platform/googletest.py#L145-L146",target:"_blank",rel:"noopener noreferrer"}},[e._v("View source"),_("OutboundLink")],1)]),e._v(" "),_("div",{staticClass:"language- extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[e._v(" __enter__()\n")])])]),_("h3",{attrs:{id:"exit"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#exit","aria-hidden":"true"}},[e._v("#")]),e._v(" "),_("strong",[e._v("exit")])]),e._v(" "),_("p",[_("a",{attrs:{href:"https://github.com/tensorflow/tensorflow/blob/r2.0/tensorflow/python/platform/googletest.py#L148-L149",target:"_blank",rel:"noopener noreferrer"}},[e._v("View source"),_("OutboundLink")],1)]),e._v(" "),_("div",{staticClass:"language- extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[e._v(" __exit__(\n    unused_exc_type,\n    unused_exc_value,\n    unused_tb\n)\n")])])])])}),[],!1,null,null,null);t.default=v.exports}}]);