(window.webpackJsonp=window.webpackJsonp||[]).push([[580],{768:function(e,o,v){"use strict";v.r(o);var d=v(0),c=Object(d.a)({},(function(){var e=this,o=e.$createElement,v=e._self._c||o;return v("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[v("p",[e._v("Computes the approximate AUC via a Riemann sum.")]),e._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v(" tf.compat.v1.metrics.auc(\n    labels,\n    predictions,\n    weights=None,\n    num_thresholds=200,\n    metrics_collections=None,\n    updates_collections=None,\n    curve='ROC',\n    name=None,\n    summation_method='trapezoidal',\n    thresholds=None\n)\n")])])]),v("p",[e._v("The auc function creates four local variables, true_positives, true_negatives, false_positives and false_negatives that are used to compute the AUC. To discretize the AUC curve, a linearly spaced set of thresholds is used to compute pairs of recall and precision values. The area under the ROC-curve is therefore computed using the height of the recall values by the false positive rate, while the area under the PR-curve is the computed using the height of the precision values by the recall.")]),e._v(" "),v("p",[e._v("This value is ultimately returned as auc, an idempotent operation that computes the area under a discretized curve of precision versus recall values (computed using the aforementioned variables). The num_thresholds variable controls the degree of discretization with larger numbers of thresholds more closely approximating the true AUC. The quality of the approximation may vary dramatically depending on num_thresholds.")]),e._v(" "),v("p",[e._v("For best results, predictions should be distributed approximately uniformly in the range [0, 1] and not peaked around 0 or 1. The quality of the AUC approximation may be poor if this is not the case. Setting summation_method to 'minoring' or 'majoring' can help quantify the error in the approximation by providing lower or upper bound estimate of the AUC. The thresholds parameter can be used to manually specify thresholds which split the predictions more evenly.")]),e._v(" "),v("p",[e._v("For estimation of the metric over a stream of data, the function creates an update_op operation that updates these variables and returns the auc.")]),e._v(" "),v("p",[e._v("If weights is None, weights default to 1. Use weights of 0 to mask values.")]),e._v(" "),v("h4",{attrs:{id:"args"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#args","aria-hidden":"true"}},[e._v("#")]),e._v(" Args:")]),e._v(" "),v("ul",[v("li",[v("code",[e._v("labels")]),e._v(": A "),v("code",[e._v("Tensor")]),e._v(" whose shape matches "),v("code",[e._v("predictions")]),e._v(". Will be cast to "),v("code",[e._v("bool")]),e._v(".")]),e._v(" "),v("li",[v("code",[e._v("predictions")]),e._v(":"),v("code"),e._v("A"),v("code"),e._v("floating"),v("code"),e._v("point"),v("code",[e._v("``Tensor``")]),e._v("of"),v("code"),e._v("arbitrary"),v("code"),e._v("shape"),v("code"),e._v("and"),v("code"),e._v("whose"),v("code"),e._v("values"),v("code"),e._v("are"),v("code"),e._v("in"),v("code"),e._v("the"),v("code"),e._v("range"),v("code"),e._v("["),v("code",[e._v("0``,`` ``1")]),e._v("].")]),e._v(" "),v("li",[v("code",[e._v("weights")]),e._v(":"),v("code"),e._v("Optional"),v("code",[e._v("``Tensor``")]),e._v("whose"),v("code"),e._v("rank"),v("code"),e._v("is"),v("code"),e._v("either"),v("code",[e._v("``0``,``")]),e._v("or"),v("code"),e._v("the"),v("code"),e._v("same"),v("code"),e._v("rank"),v("code"),e._v("as"),v("code",[e._v("``labels``,``")]),e._v("and"),v("code"),e._v("must"),v("code"),e._v("be"),v("code"),e._v("broadcastable"),v("code"),e._v("to"),v("code",[e._v("``labels``")]),e._v("(i.e."),v("code",[e._v(",``")]),e._v("all"),v("code"),e._v("dimensions"),v("code"),e._v("must"),v("code"),e._v("be"),v("code"),e._v("either"),v("code",[e._v("``1``,``")]),e._v("or"),v("code"),e._v("the"),v("code"),e._v("same"),v("code"),e._v("as"),v("code"),e._v("the"),v("code"),e._v("corresponding"),v("code",[e._v("``labels``")]),e._v("dimension).")]),e._v(" "),v("li",[v("code",[e._v("num_thresholds")]),e._v(":"),v("code"),e._v("The"),v("code"),e._v("number"),v("code"),e._v("of"),v("code"),e._v("thresholds"),v("code"),e._v("to"),v("code"),e._v("use"),v("code"),e._v("when"),v("code"),e._v("discretizing"),v("code"),e._v("the"),v("code"),e._v("roc"),v("code"),e._v("curve.")]),e._v(" "),v("li",[v("code",[e._v("metrics_collections")]),e._v(":"),v("code"),e._v("An"),v("code"),e._v("optional"),v("code"),e._v("list"),v("code"),e._v("of"),v("code"),e._v("collections"),v("code"),e._v("that"),v("code",[e._v("``auc``")]),e._v("should"),v("code"),e._v("be"),v("code"),e._v("added"),v("code"),e._v("to.")]),e._v(" "),v("li",[v("code",[e._v("updates_collections")]),e._v(":"),v("code"),e._v("An"),v("code"),e._v("optional"),v("code"),e._v("list"),v("code"),e._v("of"),v("code"),e._v("collections"),v("code"),e._v("that"),v("code",[e._v("``update_op``")]),e._v("should"),v("code"),e._v("be"),v("code"),e._v("added"),v("code"),e._v("to.")]),e._v(" "),v("li",[v("code",[e._v("curve")]),e._v(":"),v("code"),e._v("Specifies"),v("code"),e._v("the"),v("code"),e._v("name"),v("code"),e._v("of"),v("code"),e._v("the"),v("code",[e._v("``curve``")]),e._v("to"),v("code"),e._v("be"),v("code"),e._v("computed"),v("code",[e._v(",``")]),e._v("'ROC'"),v("code"),e._v("[default]"),v("code"),e._v("or"),v("code"),e._v("'PR'"),v("code"),e._v("for"),v("code"),e._v("the"),v("code"),e._v("Precision-Recall-"),v("code",[e._v("curve")]),e._v(".")]),e._v(" "),v("li",[v("code",[e._v("name")]),e._v(":"),v("code"),e._v("An"),v("code"),e._v("optional"),v("code"),e._v("variable_scope"),v("code",[e._v("``name")]),e._v(".")]),e._v(" "),v("li",[v("code",[e._v("summation_method")]),e._v(":"),v("code"),e._v("Specifies"),v("code"),e._v("the"),v("code"),e._v("Riemann"),v("code"),e._v("summation"),v("code"),e._v("method"),v("code"),e._v("used"),v("code"),e._v("(https://en.wikipedia.org/wiki/Riemann_sum):"),v("code"),e._v("'trapezoidal'"),v("code"),e._v("[default]"),v("code"),e._v("that"),v("code"),e._v("applies"),v("code"),e._v("the"),v("code"),e._v("trapezoidal"),v("code"),e._v("rule;"),v("code"),e._v("'careful_interpolation'"),v("code",[e._v(",``")]),e._v("a"),v("code"),e._v("variant"),v("code"),e._v("of"),v("code"),e._v("it"),v("code"),e._v("differing"),v("code"),e._v("only"),v("code"),e._v("by"),v("code"),e._v("a"),v("code"),e._v("more"),v("code"),e._v("correct"),v("code"),e._v("interpolation"),v("code"),e._v("scheme"),v("code"),e._v("for"),v("code"),e._v("PR-AUC"),v("code"),e._v("-"),v("code"),e._v("interpolating"),v("code"),e._v("(true/false)"),v("code"),e._v("positives"),v("code"),e._v("but"),v("code"),e._v("not"),v("code"),e._v("the"),v("code"),e._v("ratio"),v("code"),e._v("that"),v("code"),e._v("is"),v("code"),e._v("precision;"),v("code"),e._v("'minoring'"),v("code"),e._v("that"),v("code"),e._v("applies"),v("code"),e._v("left"),v("code"),e._v("summation"),v("code"),e._v("for"),v("code"),e._v("increasing"),v("code"),e._v("intervals"),v("code"),e._v("and"),v("code"),e._v("right"),v("code"),e._v("summation"),v("code"),e._v("for"),v("code"),e._v("decreasing"),v("code"),e._v("intervals;"),v("code"),e._v("'majoring'"),v("code"),e._v("that"),v("code"),e._v("does"),v("code"),e._v("the"),v("code"),e._v("opposite."),v("code"),e._v("Note"),v("code"),e._v("that"),v("code"),e._v("'careful_interpolation'"),v("code"),e._v("is"),v("code"),e._v("strictly"),v("code"),e._v("preferred"),v("code"),e._v("to"),v("code"),e._v("'trapezoidal'"),v("code"),e._v("(to"),v("code"),e._v("be"),v("code"),e._v("deprecated"),v("code"),e._v("soon)"),v("code"),e._v("as"),v("code"),e._v("it"),v("code"),e._v("applies"),v("code"),e._v("the"),v("code"),e._v("same"),v("code"),e._v("method"),v("code"),e._v("for"),v("code"),e._v("ROC"),v("code",[e._v(",``")]),e._v("and"),v("code"),e._v("a"),v("code"),e._v("better"),v("code"),e._v("one"),v("code"),e._v("(see"),v("code"),e._v("Davis"),v("code"),e._v("&"),v("code"),e._v("Goadrich"),v("code"),e._v("2"),v("code",[e._v("0``0")]),e._v("6"),v("code"),e._v("for"),v("code"),e._v("details)"),v("code"),e._v("for"),v("code"),e._v("the"),v("code"),e._v("PR"),v("code",[e._v("``curve")]),e._v(".")]),e._v(" "),v("li",[v("code",[e._v("thresholds")]),e._v(":"),v("code"),e._v("An"),v("code"),e._v("optional"),v("code"),e._v("list"),v("code"),e._v("of"),v("code"),e._v("floating"),v("code"),e._v("point"),v("code"),e._v("values"),v("code"),e._v("to"),v("code"),e._v("use"),v("code"),e._v("as"),v("code"),e._v("the"),v("code",[e._v("``thresholds``")]),e._v("for"),v("code"),e._v("discretizing"),v("code"),e._v("the"),v("code",[e._v("``curve")]),e._v("."),v("code"),e._v("If"),v("code"),e._v("set"),v("code",[e._v(",``")]),e._v("the"),v("code",[e._v("``num_thresholds``")]),e._v("parameter"),v("code"),e._v("is"),v("code"),e._v("ignored."),v("code"),e._v("Values"),v("code"),e._v("should"),v("code"),e._v("be"),v("code"),e._v("in"),v("code"),e._v("["),v("code",[e._v("0``,`` ``1")]),e._v("]."),v("code"),e._v("Endpoint"),v("code",[e._v("``thresholds``")]),e._v("equal"),v("code"),e._v("to"),v("code"),e._v("{-epsilon"),v("code",[e._v(",`` ``1")]),e._v("+epsilon}"),v("code"),e._v("for"),v("code"),e._v("a"),v("code"),e._v("small"),v("code"),e._v("positive"),v("code"),e._v("epsilon"),v("code"),e._v("value"),v("code"),e._v("will"),v("code"),e._v("be"),v("code"),e._v("automatically"),v("code"),e._v("included"),v("code"),e._v("with"),v("code"),e._v("these"),v("code"),e._v("to"),v("code"),e._v("correctly"),v("code"),e._v("handle"),v("code",[e._v("``predictions``")]),e._v("equal"),v("code"),e._v("to"),v("code"),e._v("exactly"),v("code",[e._v("``0``")]),e._v("or"),v("code",[e._v("``1")]),e._v(".")])]),e._v(" "),v("h4",{attrs:{id:"returns"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#returns","aria-hidden":"true"}},[e._v("#")]),e._v(" Returns:")]),e._v(" "),v("ul",[v("li",[v("code",[e._v("auc")]),e._v(": A scalar "),v("code",[e._v("Tensor")]),e._v(" representing the current area-under-curve.")]),e._v(" "),v("li",[v("code",[e._v("update_op")]),e._v(": An operation that increments the "),v("code",[e._v("true_positives")]),e._v(", "),v("code",[e._v("true_negatives")]),e._v(", "),v("code",[e._v("false_positives")]),e._v(" and "),v("code",[e._v("false_negatives")]),e._v(" variables appropriately and whose value matches "),v("code",[e._v("auc")]),e._v(".")])]),e._v(" "),v("h4",{attrs:{id:"raises"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#raises","aria-hidden":"true"}},[e._v("#")]),e._v(" Raises:")]),e._v(" "),v("ul",[v("li",[v("code",[e._v("ValueError")]),e._v(": If "),v("code",[e._v("predictions")]),e._v(" and "),v("code",[e._v("labels")]),e._v(" have mismatched shapes, or if "),v("code",[e._v("weights")]),e._v(" is not "),v("code",[e._v("None")]),e._v(" and its shape doesn't match "),v("code",[e._v("predictions")]),e._v(", or if either "),v("code",[e._v("metrics_collections")]),e._v(" or "),v("code",[e._v("updates_collections")]),e._v(" are not a list or tuple.")]),e._v(" "),v("li",[v("code",[e._v("RuntimeError")]),e._v(": If eager execution is enabled.")])])])}),[],!1,null,null,null);o.default=c.exports}}]);