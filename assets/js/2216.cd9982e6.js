(window.webpackJsonp=window.webpackJsonp||[]).push([[2216],{2404:function(e,t,a){"use strict";a.r(t);var s=a(0),r=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("p",[e._v("Looks up ids in a list of embedding tensors.")]),e._v(" "),a("h3",{attrs:{id:"aliases"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#aliases","aria-hidden":"true"}},[e._v("#")]),e._v(" Aliases:")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("tf.compat.v2.nn.embedding_lookup")])])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v(" tf.nn.embedding_lookup(\n    params,\n    ids,\n    max_norm=None,\n    name=None\n)\n")])])]),a("h3",{attrs:{id:"used-in-the-guide"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#used-in-the-guide","aria-hidden":"true"}},[e._v("#")]),e._v(" Used in the guide:")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("M")]),e._v("a"),a("code",[e._v("s")]),e._v("k"),a("code",[e._v("i")]),e._v("n"),a("code",[e._v("g")]),e._v(" "),a("code",[e._v("a")]),e._v("n"),a("code",[e._v("d")]),e._v(" "),a("code",[e._v("p")]),e._v("a"),a("code",[e._v("d")]),e._v("d"),a("code",[e._v("i")]),e._v("n"),a("code",[e._v("g")]),e._v(" "),a("code",[e._v("w")]),e._v("i"),a("code",[e._v("t")]),e._v("h"),a("code"),e._v("K"),a("code",[e._v("e")]),e._v("r"),a("code",[e._v("a")]),e._v("s``\n"),a("a",{attrs:{href:"https://www.tensorflow.org/api_docs/python/tf/gather",target:"_blank",rel:"noopener noreferrer"}},[e._v("tf.gather"),a("OutboundLink")],1),e._v("This function is used to perform parallel lookups on the list of tensors in params. It is a generalization of , where params is interpreted as a partitioning of a large embedding tensor. params may be a PartitionedVariable as returned by using tf.compat.v1.get_variable() with a partitioner.")])]),e._v(" "),a("p",[e._v("If len(params) > 1, each element id of ids is partitioned between the elements of params according to the partition_strategy. In all strategies, if the id space does not evenly divide the number of partitions, each of the first (max_id + 1) % len(params) partitions will be assigned one more id.")]),e._v(" "),a("p",[e._v('The partition_strategy is always "div" currently. This means that we assign ids to partitions in a contiguous manner. For instance, 13 ids are split across 5 partitions as: [[0, 1, 2], [3, 4, 5], [6, 7, 8], [9, 10], [11, 12]]')]),e._v(" "),a("p",[e._v("The results of the lookup are concatenated into a dense tensor. The returned tensor has shape shape(ids) + shape(params)[1:].")]),e._v(" "),a("h4",{attrs:{id:"args"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#args","aria-hidden":"true"}},[e._v("#")]),e._v(" Args:")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("params")]),e._v(": A single tensor representing the complete embedding tensor, or a list of P tensors all of same shape except for the first dimension, representing sharded embedding tensors. Alternatively, a "),a("code",[e._v("PartitionedVariable")]),e._v(", created by partitioning along dimension 0. Each element must be appropriately sized for the 'div' "),a("code",[e._v("partition_strategy")]),e._v(".")]),e._v(" "),a("li",[a("code",[e._v("ids")]),e._v(": A "),a("code",[e._v("Tensor")]),e._v(" with type "),a("code",[e._v("int32")]),e._v(" or "),a("code",[e._v("int64")]),e._v(" containing the "),a("code",[e._v("ids")]),e._v(" to be looked up in "),a("code",[e._v("params")]),e._v(".")]),e._v(" "),a("li",[a("code",[e._v("max_norm")]),e._v(": If not "),a("code",[e._v("None")]),e._v(", each embedding is clipped if its l2-norm is larger than this value.")]),e._v(" "),a("li",[a("code",[e._v("name")]),e._v(": A "),a("code",[e._v("name")]),e._v(" for the operation (optional).")])]),e._v(" "),a("h4",{attrs:{id:"returns"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#returns","aria-hidden":"true"}},[e._v("#")]),e._v(" Returns:")]),e._v(" "),a("p",[e._v("A Tensor with the same type as the tensors in params.")]),e._v(" "),a("h4",{attrs:{id:"raises"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#raises","aria-hidden":"true"}},[e._v("#")]),e._v(" Raises:")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("ValueError")]),e._v(": If "),a("code",[e._v("params")]),e._v(" is empty.")])])])}),[],!1,null,null,null);t.default=r.exports}}]);